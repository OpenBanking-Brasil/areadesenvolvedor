type: object
description: Objeto contendo dados do pagamento e da conta do recebedor (creditor).
required:
  - paymentId
  - consentId
  - creationDateTime
  - updatedDateTime
  - status
  - payment
  - creditor
properties:
  paymentId:
    type: string
    maxLength: 36
    pattern: ^[{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?$
    example: "8f800dc8-bc8a-4c0e-b5e6-3c6801cfe135"
    description: | 
      Código ou identificador único informado pela instituição que mantém a conta para representar a iniciação de pagamento individual. 
      Esse identificador deve ser usado para consultar o status da iniciação de pagamento.
  endToEndId:
    type: string
    maxLength: 36
    pattern: ^[{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?$
    example: "a9ae654d-e531-4a8b-a926-952d664de203"
    description: |
      Identificador fim a fim da transação. O termo "E2E" que identifica a transação de forma única dentro do arranjo.
      Esse identificador deve ser único, não podendo ser repetido em qualquer outra operação enviada ao SPI.
      [Restrição] É obrigatório o retorno após o status "ACCEPTED_SETTLEMENT_IN_PROCESS".
  consentId:
    type: string
    maxLength: 36
    pattern: ^[{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?$
    example: "3a782761-9573-4e1f-b4d1-4c798955c0b8"
    description: | 
      Identificador único do consentimento criado para a iniciação de pagamento solicitada.
  creationDateTime:
    type: string
    format: date-time
    pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$|^NA$
    example: '2020-07-21T08:30:00Z'
    description: |
      Data e hora em que o recurso foi criado. 
      Uma string com data e hora conforme especificação RFC-3339, sempre com a utilização de timezone UTC(UTC time format).
  updatedDateTime:
    type: string
    format: date-time
    pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$|^NA$
    example: '2020-07-21T08:30:00Z'
    description: |
      Data e hora da ultima atualização da iniciação de pagamento. 
      Uma string com data e hora conforme especificação RFC-3339, sempre com a utilização de timezone UTC(UTC time format).
  pixKey:
    type: string
    maxLength: 77
    pattern: \w*\W*
    example: '12345678901'
    description: |
      Chave DICT do recebedor. Os tipos de chaves podem ser: telefone, e-mail, cpf/cnpj ou chave aleatória. 
      O telefone celular usará o padrão E.1641. 
      O E-mail deve ter o formato xxxxxxxx@xxxxxxx.xxx(.xx) e no máximo 77 caracteres. 
      O CPF será utilizado com 11 números e deverá ser informado sem pontos ou traços. 
      O CNPJ será utilizado com 14 números e deverá ser informado sem pontos ou traços. 
      A chave aleatória deve ser UUID gerado pelo DICT, conforme formato especificado na RFC41223.
      [Restrição] Obrigatório para pagamentos via Chave.
  qrCode:
    type: string
    maxLength: 512
    pattern: \w*\W*
    example: 00020104141234567890123426660014BR.GOV.BCB.PIX014466756C616E6F32303139406578616D706C652E636F6D27300012BR.COM.OUTRO011001234567895204000053039865406123.455802BR5915NOMEDORECEBEDOR6008BRASILIA61087007490062530515RP12345678-201950300017BR.GOV.BCB.BRCODE01051.0.080450014BR.GOV.BCB.PIX0123PADRAO.URL.PIX/0123ABCD81390012BR.COM.OUTRO01190123.ABCD.3456.WXYZ6304EB76
    description: |
      Sequência de caracteres que corresponde ao QR Code disponibilizado para o pagador.  
      É a sequência de caracteres que seria lida pelo leitor de QR Code, e deve propiciar o retorno dos dados do pagador após consulta na DICT.  
      Essa funcionalidade é possível tanto para QR Code estático quanto para QR Code dinâmico.  
      No arranjo do Pix esta é a mesma sequência gerada e/ou lida pela funcionalidade Pix Copia e Cola.  
      Este campo deverá ser no formato UTF-8
  status:
    $ref: ../enum/EnumPaymentStatusType.yaml
  rejectionReason:
    $ref: ../enum/EnumRejectionReasonType.yaml
  payment:
    $ref: ./PaymentPix.yaml
  additionalInfo:
    type: string
    maxLength: 140
    pattern: \w*\W*
    example: Descrição da Transação
    description: |
      Descrição do pagamento, em formato livre, feito pelo pagador.
  creditorAccount:
    $ref: ../business_commons/Account.yaml
additionalProperties: false