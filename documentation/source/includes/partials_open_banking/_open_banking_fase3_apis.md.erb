
<h1 id="fase-3-apis-do-open-banking-brasil">Fase 3 - APIs do Open Banking Brasil v1.0.0-rc1.0</h1>

> Scroll down for code samples, example requests and responses. Select a language for code samples from the tabs above or the mobile navigation menu.

Na fase 3 do Open Banking Brasil, a iniciação de pagamento permitirá que o cliente solicite um pagamento Pix fora dos canais da detentora de conta através de uma iniciadora de transação de pagamento.  

A solicitação de pagamento será processada apenas se o cliente consentir na iniciadora, através da API de consentimento fase 3, e autorizar na detentora de conta, por meio de autenticação com credenciais de acesso e confirmação dos dados do pagamento.  

Diferente da fase 2, o consentimento é dado para cada transação e não pode ser revogado, pois é consumido no momento que a transação é confirmada e processada.  

O processamento da transação é feito de forma instantânea, não sendo possível agendamentos.

###Idempotência
Segundo a W3C, "um método HTTP idempotente é um método HTTP que pode ser chamado muitas vezes sem resultados diferentes ou efeitos colaterais. Não importa se o método é chamado apenas uma vez ou dez vezes. O resultado deve ser o mesmo. Essencialmente, significa que o resultado de uma solicitação executada com sucesso é independente do número de vezes que ela é executada. Por exemplo, na aritmética, adicionar zero a um número é uma operação idempotente."

Os conhecidos métodos GET, PUT e DELETE são naturalmente idempotentes, assim como HEAD, OPTIONS e TRACE também são.

Porém, o método POST requer um tratamento especial para que se torne idempotente e, por estarmos tratando aqui de meios de pagamentos, fazer esse tratamento é algo desejável para que não ocorram acidentes.

####Por que é necessário tratarmos a Idempotência do POST?

Imagine que seja realizado um POST de pagamento e, depois de alguns segundos, é retornada uma mensagem de Timeout. Nesse caso, não é possível saber se o POST foi efetivo e enviar o POST novamente, sem tratar a idempotência, poderá ocasionar em duplicidade de pagamento.

####Como mitigarmos esse risco?

Do lado da iniciadora do pagamento: É necessário que seja enviado o POST com um GUID de Idempotência. Caso o mesmo POST seja reenviado por acidente ou precise ser reenviado, por qualquer motivo que seja, basta reenviar o POST com o mesmo GUID de Idempotência.

Do lado da detentora da conta: É necessário validar o GUID de Idempotência recebido. Caso tenha recebido o mesmo GUID de Idempotência, a nova mensagem de POST deverá ser descartada.

Importante reforçar que cada nova transação com POST deverá ter um novo GUID de Idempotência.

A iniciadora não deve usar comportamento idempotente do POST para pesquisar o status dos recursos.

####Conjunto inicial de regras propostas na aplicação da idempotencia:
- A iniciadora/TPP não deve alterar o corpo da solicitação ao usar a mesma chave de idempotência. Se a iniciadora alterar o corpo da solicitação, a detentora/ASPSP não deve modificar o recurso final. A detentora pode tratar este caso como uma ação fraudulenta.  
- A detentora não deve criar um novo recurso para uma solicitação POST se estiver determinada como uma solicitação idempotente.  
- Na criação a detentora deve responder à solicitação com o status atual do recurso (ou um status que seja pelo menos tão atual quanto o que estiver disponível nos canais eletrônicos existentes) e um código de status HTTP 201 (CREATED).  
- A iniciadora não deve usar comportamento idempotente para pesquisar o status dos recursos.  
- A detentora pode usar a assinatura da mensagem, junto com a chave de idempotência, para garantir que o corpo da solicitação não seja alterado.  

###Diagrama de Sequência
![Iniciacao_de_Pagamento](images/sequence-diagrams/iniciacao_de_pagamento.png)
<a href="images/sequence-diagrams/iniciacao_de_pagamento.png" target="_blank">Download do Diagrama de Sequência</a>

###Recomendação uso de pooling
####A consulta via GET, para verificar o processamento da transação, pode ser dado a qualquer momento desde que se respeite o rate limit de:  
- 300 TPS global, 50 TPS por instituição e 8 TPS por endereço IP (Internet Protocol).  
Como sugestão, é indicado que a instituição iniciadora do pagamento implemente um retry exponencial.  

<h1 id="fase-3-apis-do-open-banking-brasil-api-pagamentos">API - Pagamentos</h1>

|Versão|
|:-----|
|1.0.0-rc1.0|

#### Visão Geral

A API tem como objetivo coletar o consentimento e ralizar a iniciação de pagamento entre bancos e instituições financeiras e acessível também à estabelecimentos comerciais participantes do Open Banking Brasil.

Os recursos estão disponíveis para pagadores que possuem vínculo com uma instituição detentora de conta participante do Open Banking, independentemente de serem pessoa física ou jurídica.

#### Especificação em OAS 3.0

<a href="swagger/swagger_payments_apis.yaml" target="_blank">Download da Especificação (OAS 3.0)</a>  

## [Em Revisão] Criar consentimento para iniciação de pagamento.

<a id="opIdpaymentsPostConsents"></a>

> Exemplo de código

```javascript
const data = JSON.stringify({
  "data": {
    "creditor": {
      "personType": "PESSOA_NATURAL",
      "cpfCnpj": "58764789000137",
      "name": "Marco Antonio de Brito"
    },
    "payment": {
      "type": "PIX",
      "dateTime": "2021-01-01T00:00:00Z",
      "currency": "BRL",
      "amount": 100000.12
    },
    "debtorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    }
  }
});

const xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
  if (this.readyState === this.DONE) {
    console.log(this.responseText);
  }
});

xhr.open("POST", "https://example.com/payments/v1/consents");
xhr.setRequestHeader("Content-Type", "application/json");
xhr.setRequestHeader("Accept", "application/json");
xhr.setRequestHeader("Authorization", "string");
xhr.setRequestHeader("x-fapi-auth-date", "stringstringstringstringstrin");
xhr.setRequestHeader("x-fapi-customer-ip-address", "string");
xhr.setRequestHeader("x-fapi-interaction-id", "string");
xhr.setRequestHeader("x-customer-user-agent", "string");
xhr.setRequestHeader("x-idempotency-key", "string");
xhr.setRequestHeader("x-jws-signature", "string");

xhr.send(data);
```

```python
import http.client

conn = http.client.HTTPSConnection("example.com")

payload = "{\"data\":{\"creditor\":{\"personType\":\"PESSOA_NATURAL\",\"cpfCnpj\":\"58764789000137\",\"name\":\"Marco Antonio de Brito\"},\"payment\":{\"type\":\"PIX\",\"dateTime\":\"2021-01-01T00:00:00Z\",\"currency\":\"BRL\",\"amount\":100000.12},\"debtorAccount\":{\"ispb\":\"12345678\",\"branchCode\":\"1774\",\"number\":\"1234567890\",\"checkDigit\":\"4\",\"accountType\":\"CACC\"}}}"

headers = {
    'Content-Type': "application/json",
    'Accept': "application/json",
    'Authorization': "string",
    'x-fapi-auth-date': "stringstringstringstringstrin",
    'x-fapi-customer-ip-address': "string",
    'x-fapi-interaction-id': "string",
    'x-customer-user-agent': "string",
    'x-idempotency-key': "string",
    'x-jws-signature': "string"
    }

conn.request("POST", "/payments/v1/consents", payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode("utf-8"))
```

```java
HttpResponse<String> response = Unirest.post("https://example.com/payments/v1/consents")
  .header("Content-Type", "application/json")
  .header("Accept", "application/json")
  .header("Authorization", "string")
  .header("x-fapi-auth-date", "stringstringstringstringstrin")
  .header("x-fapi-customer-ip-address", "string")
  .header("x-fapi-interaction-id", "string")
  .header("x-customer-user-agent", "string")
  .header("x-idempotency-key", "string")
  .header("x-jws-signature", "string")
  .body("{\"data\":{\"creditor\":{\"personType\":\"PESSOA_NATURAL\",\"cpfCnpj\":\"58764789000137\",\"name\":\"Marco Antonio de Brito\"},\"payment\":{\"type\":\"PIX\",\"dateTime\":\"2021-01-01T00:00:00Z\",\"currency\":\"BRL\",\"amount\":100000.12},\"debtorAccount\":{\"ispb\":\"12345678\",\"branchCode\":\"1774\",\"number\":\"1234567890\",\"checkDigit\":\"4\",\"accountType\":\"CACC\"}}}")
  .asString();
```

`POST /payments/v1/consents`

Método para a criação do consentimento para iniciação de pagamento.

### Dicionário de dados

<a href='dictionary/paymentsPostConsents_v1.csv' target="_blank">Fazer download do dicionário de dados</a>

> Body parameter

```json
{
  "data": {
    "creditor": {
      "personType": "PESSOA_NATURAL",
      "cpfCnpj": "58764789000137",
      "name": "Marco Antonio de Brito"
    },
    "payment": {
      "type": "PIX",
      "dateTime": "2021-01-01T00:00:00Z",
      "currency": "BRL",
      "amount": 100000.12
    },
    "debtorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    }
  }
}
```

<h3 id="[em-revisão]-criar-consentimento-para-iniciação-de-pagamento.-parameters">Parâmetros</h3>

|Nome|Origem|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|Authorization|header|string|true|Cabeçalho HTTP padrão. Permite que as credenciais sejam fornecidas dependendo do tipo de recurso solicitado|
|x-fapi-auth-date|header|string|false|Data em que o usuário logou pela última vez com o receptor. Representada de acordo com a [RFC7231](https://tools.ietf.org/html/rfc7231).Exemplo: Sun, 10 Sep 2017 19:43:31 UTC|
|x-fapi-customer-ip-address|header|string|false|O endereço IP do usuário se estiver atualmente logado com o receptor.|
|x-fapi-interaction-id|header|string|false|Um UID [RFC4122](https://tools.ietf.org/html/rfc4122) usado como um ID de correlação. Se fornecido, o transmissor deve "reproduzir" esse valor no cabeçalho de resposta.|
|x-customer-user-agent|header|string|false|Indica o user-agent que o usuário utiliza.|
|x-idempotency-key|header|string|true|Cabeçalho HTTP personalizado. Identificador de solicitação exclusivo para suportar a idempotência.|
|x-jws-signature|header|string|true|Cabeçalho contendo uma assinatura JWS separada do corpo do payload.|
|body|body|[CreatePaymentConsent](#schemacreatepaymentconsent)|true|Payload para criação do consentimento para iniciação do pagamento Pix.|

> O comando acima retorna uma estrutura json como essa:

> 201 Response

```json
{
  "data": {
    "consentId": "urn:bancoex:C1DD33123",
    "creationDateTime": "2021-05-21T08:30:00Z",
    "statusUpdateDateTime": "2021-05-21T08:30:00Z",
    "status": "AWAITING_AUTHORISATION",
    "creditor": {
      "personType": "PESSOA_NATURAL",
      "cpfCnpj": "58764789000137",
      "name": "Marco Antonio de Brito"
    },
    "payment": {
      "type": "PIX",
      "dateTime": "2021-01-01T00:00:00Z",
      "currency": "BRL",
      "amount": 100000.12
    },
    "debtorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    }
  }
}
```

> A solicitação foi bem formada, mas não pôde ser processada devido à lógica de negócios específica da solicitação.

```json
{
  "errors": [
    {
      "code": "FORMA_PGTO_INVALIDA",
      "title": "Forma de pagamento inválida.",
      "detail": "Meio de pagamento inválido."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

```json
{
  "errors": [
    {
      "code": "DATA_PGTO_INVALIDA",
      "title": "Data de pagamento inválida.",
      "detail": "Data de pagamento inválida no contexto, por exemplo, data no passado."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

```json
{
  "errors": [
    {
      "code": "NAO_INFORMADO",
      "title": "Não informado.",
      "detail": "Não reportado/identificado pela instituição detentora de conta."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

<h3 id="[em-revisão]-criar-consentimento-para-iniciação-de-pagamento.-responses">Resposta</h3>

|Status|Significado|Descrição|Schema|
|---|---|---|---|
|201|[Created](https://tools.ietf.org/html/rfc7231#section-6.3.2)|Consentimento de pagamento criado com sucesso.|[ResponsePaymentConsent](#schemaresponsepaymentconsent)|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|A requisição foi malformada, omitindo atributos obrigatórios, seja no payload ou através de atributos na URL.|[ResponseError](#schemaresponseerror)|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Cabeçalho de autenticação ausente/inválido ou token inválido|[ResponseError](#schemaresponseerror)|
|403|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)|O token tem escopo incorreto ou uma política de segurança foi violada|[ResponseError](#schemaresponseerror)|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|O recurso solicitado não existe ou não foi implementado|[ResponseError](#schemaresponseerror)|
|405|[Method Not Allowed](https://tools.ietf.org/html/rfc7231#section-6.5.5)|O consumidor tentou acessar o recurso com um método não suportado|[ResponseError](#schemaresponseerror)|
|406|[Not Acceptable](https://tools.ietf.org/html/rfc7231#section-6.5.6)|A solicitação continha um cabeçalho Accept diferente dos tipos de mídia permitidos ou um conjunto de caracteres diferente de UTF-8|[ResponseError](#schemaresponseerror)|
|415|[Unsupported Media Type](https://tools.ietf.org/html/rfc7231#section-6.5.13)|O formato do payload não é um formato suportado.|[ResponseError](#schemaresponseerror)|
|422|[Unprocessable Entity](https://tools.ietf.org/html/rfc2518#section-10.3)|A solicitação foi bem formada, mas não pôde ser processada devido à lógica de negócios específica da solicitação.|[422ResponseErrorCreateConsent](#schema422responseerrorcreateconsent)|
|429|[Too Many Requests](https://tools.ietf.org/html/rfc6585#section-4)|A operação foi recusada, pois muitas solicitações foram feitas dentro de um determinado período ou o limite global de requisições concorrentes foi atingido|[ResponseError](#schemaresponseerror)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Ocorreu um erro no gateway da API ou no microsserviço|[ResponseError](#schemaresponseerror)|

### Response Headers

|Status|Header|Type|Format|Description|
|---|---|---|---|---|
|201|x-fapi-interaction-id|string||none|

<aside class="warning">
Para realizar esta operação, você deve ser autenticado por meio de um dos seguintes métodos:
None ( Scopes: payments )
</aside>

## [Em Revisão] Consultar consentimento para iniciação de pagamento.

<a id="opIdpaymentsGetConsentsConsentId"></a>

> Exemplo de código

```javascript
const data = null;

const xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
  if (this.readyState === this.DONE) {
    console.log(this.responseText);
  }
});

xhr.open("GET", "https://example.com/payments/v1/consents/string");
xhr.setRequestHeader("Accept", "application/json");
xhr.setRequestHeader("Authorization", "string");
xhr.setRequestHeader("x-fapi-auth-date", "stringstringstringstringstrin");
xhr.setRequestHeader("x-fapi-customer-ip-address", "string");
xhr.setRequestHeader("x-fapi-interaction-id", "string");
xhr.setRequestHeader("x-customer-user-agent", "string");
xhr.setRequestHeader("x-jws-signature", "string");

xhr.send(data);
```

```python
import http.client

conn = http.client.HTTPSConnection("example.com")

headers = {
    'Accept': "application/json",
    'Authorization': "string",
    'x-fapi-auth-date': "stringstringstringstringstrin",
    'x-fapi-customer-ip-address': "string",
    'x-fapi-interaction-id': "string",
    'x-customer-user-agent': "string",
    'x-jws-signature': "string"
    }

conn.request("GET", "/payments/v1/consents/string", headers=headers)

res = conn.getresponse()
data = res.read()

print(data.decode("utf-8"))
```

```java
HttpResponse<String> response = Unirest.get("https://example.com/payments/v1/consents/string")
  .header("Accept", "application/json")
  .header("Authorization", "string")
  .header("x-fapi-auth-date", "stringstringstringstringstrin")
  .header("x-fapi-customer-ip-address", "string")
  .header("x-fapi-interaction-id", "string")
  .header("x-customer-user-agent", "string")
  .header("x-jws-signature", "string")
  .asString();
```

`GET /payments/v1/consents/{consentId}`

Método para consultar o consentimento para iniciação de pagamento.

### Dicionário de dados

<a href='dictionary/paymentsGetConsentsConsentId_v1.csv' target="_blank">Fazer download do dicionário de dados</a>

<h3 id="[em-revisão]-consultar-consentimento-para-iniciação-de-pagamento.-parameters">Parâmetros</h3>

|Nome|Origem|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|consentId|path|string|true|O consentId é o identificador único do consentimento e deverá ser um URN - Uniform Resource Name.  |
|Authorization|header|string|true|Cabeçalho HTTP padrão. Permite que as credenciais sejam fornecidas dependendo do tipo de recurso solicitado|
|x-fapi-auth-date|header|string|false|Data em que o usuário logou pela última vez com o receptor. Representada de acordo com a [RFC7231](https://tools.ietf.org/html/rfc7231).Exemplo: Sun, 10 Sep 2017 19:43:31 UTC|
|x-fapi-customer-ip-address|header|string|false|O endereço IP do usuário se estiver atualmente logado com o receptor.|
|x-fapi-interaction-id|header|string|false|Um UID [RFC4122](https://tools.ietf.org/html/rfc4122) usado como um ID de correlação. Se fornecido, o transmissor deve "reproduzir" esse valor no cabeçalho de resposta.|
|x-customer-user-agent|header|string|false|Indica o user-agent que o usuário utiliza.|
|x-jws-signature|header|string|true|Cabeçalho contendo uma assinatura JWS separada do corpo do payload.|

#### Detailed descriptions

**consentId**: O consentId é o identificador único do consentimento e deverá ser um URN - Uniform Resource Name.  
Um URN, conforme definido na [RFC8141](https://tools.ietf.org/html/rfc8141) é um Uniform Resource 
Identifier - URI - que é atribuído sob o URI scheme "urn" e um namespace URN específico, com a intenção de que o URN 
seja um identificador de recurso persistente e independente da localização.  
Considerando a string urn:bancoex:C1DD33123 como exemplo para consentId temos:
- o namespace(urn)
- o identificador associado ao namespace da instituição transnmissora (bancoex) 
- o identificador específico dentro do namespace (C1DD33123).  
Informações mais detalhadas sobre a construção de namespaces devem ser consultadas na [RFC8141](https://tools.ietf.org/html/rfc8141).

> O comando acima retorna uma estrutura json como essa:

> 200 Response

```json
{
  "data": {
    "consentId": "urn:bancoex:C1DD33123",
    "creationDateTime": "2021-05-21T08:30:00Z",
    "statusUpdateDateTime": "2021-05-21T08:30:00Z",
    "status": "AWAITING_AUTHORISATION",
    "creditor": {
      "personType": "PESSOA_NATURAL",
      "cpfCnpj": "58764789000137",
      "name": "Marco Antonio de Brito"
    },
    "payment": {
      "type": "PIX",
      "dateTime": "2021-01-01T00:00:00Z",
      "currency": "BRL",
      "amount": 100000.12
    },
    "debtorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    }
  }
}
```

<h3 id="[em-revisão]-consultar-consentimento-para-iniciação-de-pagamento.-responses">Resposta</h3>

|Status|Significado|Descrição|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Dados do consentimento de pagamento obtidos com sucesso.|[ResponsePaymentConsent](#schemaresponsepaymentconsent)|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|A requisição foi malformada, omitindo atributos obrigatórios, seja no payload ou através de atributos na URL.|[ResponseError](#schemaresponseerror)|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Cabeçalho de autenticação ausente/inválido ou token inválido|[ResponseError](#schemaresponseerror)|
|403|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)|O token tem escopo incorreto ou uma política de segurança foi violada|[ResponseError](#schemaresponseerror)|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|O recurso solicitado não existe ou não foi implementado|[ResponseError](#schemaresponseerror)|
|405|[Method Not Allowed](https://tools.ietf.org/html/rfc7231#section-6.5.5)|O consumidor tentou acessar o recurso com um método não suportado|[ResponseError](#schemaresponseerror)|
|406|[Not Acceptable](https://tools.ietf.org/html/rfc7231#section-6.5.6)|A solicitação continha um cabeçalho Accept diferente dos tipos de mídia permitidos ou um conjunto de caracteres diferente de UTF-8|[ResponseError](#schemaresponseerror)|
|415|[Unsupported Media Type](https://tools.ietf.org/html/rfc7231#section-6.5.13)|O formato do payload não é um formato suportado.|[ResponseError](#schemaresponseerror)|
|429|[Too Many Requests](https://tools.ietf.org/html/rfc6585#section-4)|A operação foi recusada, pois muitas solicitações foram feitas dentro de um determinado período ou o limite global de requisições concorrentes foi atingido|[ResponseError](#schemaresponseerror)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Ocorreu um erro no gateway da API ou no microsserviço|[ResponseError](#schemaresponseerror)|

### Response Headers

|Status|Header|Type|Format|Description|
|---|---|---|---|---|
|200|x-fapi-interaction-id|string||none|

<aside class="warning">
Para realizar esta operação, você deve ser autenticado por meio de um dos seguintes métodos:
None ( Scopes: payments )
</aside>

## [Em Revisão] Pix - Criar iniciação de pagamento.

<a id="opIdpaymentsPostPixPayments"></a>

> Exemplo de código

```javascript
const data = JSON.stringify({
  "data": {
    "payment": {
      "amount": 100000.12,
      "currency": "BRL"
    },
    "creditorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    },
    "remittanceInformation": "Pagamento da nota XPTO035-002.",
    "qrCode": "00020104141234567890123426660014BR.GOV.BCB.PIX014466756C616E6F32303139406578616D706C652E636F6D27300012  \nBR.COM.OUTRO011001234567895204000053039865406123.455802BR5915NOMEDORECEBEDOR6008BRASILIA61087007490062  \n530515RP12345678-201950300017BR.GOV.BCB.BRCODE01051.0.080450014BR.GOV.BCB.PIX0123PADRAO.URL.PIX/0123AB  \nCD81390012BR.COM.OUTRO01190123.ABCD.3456.WXYZ6304EB76\n",
    "pixKey": "string"
  }
});

const xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
  if (this.readyState === this.DONE) {
    console.log(this.responseText);
  }
});

xhr.open("POST", "https://example.com/payments/v1/pix/payments");
xhr.setRequestHeader("Content-Type", "application/json");
xhr.setRequestHeader("Accept", "application/json");
xhr.setRequestHeader("Authorization", "string");
xhr.setRequestHeader("x-fapi-auth-date", "stringstringstringstringstrin");
xhr.setRequestHeader("x-fapi-customer-ip-address", "string");
xhr.setRequestHeader("x-fapi-interaction-id", "string");
xhr.setRequestHeader("x-customer-user-agent", "string");
xhr.setRequestHeader("x-idempotency-key", "string");
xhr.setRequestHeader("x-jws-signature", "string");

xhr.send(data);
```

```python
import http.client

conn = http.client.HTTPSConnection("example.com")

payload = "{\"data\":{\"payment\":{\"amount\":100000.12,\"currency\":\"BRL\"},\"creditorAccount\":{\"ispb\":\"12345678\",\"branchCode\":\"1774\",\"number\":\"1234567890\",\"checkDigit\":\"4\",\"accountType\":\"CACC\"},\"remittanceInformation\":\"Pagamento da nota XPTO035-002.\",\"qrCode\":\"00020104141234567890123426660014BR.GOV.BCB.PIX014466756C616E6F32303139406578616D706C652E636F6D27300012  \\nBR.COM.OUTRO011001234567895204000053039865406123.455802BR5915NOMEDORECEBEDOR6008BRASILIA61087007490062  \\n530515RP12345678-201950300017BR.GOV.BCB.BRCODE01051.0.080450014BR.GOV.BCB.PIX0123PADRAO.URL.PIX/0123AB  \\nCD81390012BR.COM.OUTRO01190123.ABCD.3456.WXYZ6304EB76\\n\",\"pixKey\":\"string\"}}"

headers = {
    'Content-Type': "application/json",
    'Accept': "application/json",
    'Authorization': "string",
    'x-fapi-auth-date': "stringstringstringstringstrin",
    'x-fapi-customer-ip-address': "string",
    'x-fapi-interaction-id': "string",
    'x-customer-user-agent': "string",
    'x-idempotency-key': "string",
    'x-jws-signature': "string"
    }

conn.request("POST", "/payments/v1/pix/payments", payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode("utf-8"))
```

```java
HttpResponse<String> response = Unirest.post("https://example.com/payments/v1/pix/payments")
  .header("Content-Type", "application/json")
  .header("Accept", "application/json")
  .header("Authorization", "string")
  .header("x-fapi-auth-date", "stringstringstringstringstrin")
  .header("x-fapi-customer-ip-address", "string")
  .header("x-fapi-interaction-id", "string")
  .header("x-customer-user-agent", "string")
  .header("x-idempotency-key", "string")
  .header("x-jws-signature", "string")
  .body("{\"data\":{\"payment\":{\"amount\":100000.12,\"currency\":\"BRL\"},\"creditorAccount\":{\"ispb\":\"12345678\",\"branchCode\":\"1774\",\"number\":\"1234567890\",\"checkDigit\":\"4\",\"accountType\":\"CACC\"},\"remittanceInformation\":\"Pagamento da nota XPTO035-002.\",\"qrCode\":\"00020104141234567890123426660014BR.GOV.BCB.PIX014466756C616E6F32303139406578616D706C652E636F6D27300012  \\nBR.COM.OUTRO011001234567895204000053039865406123.455802BR5915NOMEDORECEBEDOR6008BRASILIA61087007490062  \\n530515RP12345678-201950300017BR.GOV.BCB.BRCODE01051.0.080450014BR.GOV.BCB.PIX0123PADRAO.URL.PIX/0123AB  \\nCD81390012BR.COM.OUTRO01190123.ABCD.3456.WXYZ6304EB76\\n\",\"pixKey\":\"string\"}}")
  .asString();
```

`POST /payments/v1/pix/payments`

Método para a criação de uma iniciação de pagamento.

### Dicionário de dados

<a href='dictionary/paymentsPostPixPayments_v1.csv' target="_blank">Fazer download do dicionário de dados</a>

> Body parameter

```json
{
  "data": {
    "payment": {
      "amount": 100000.12,
      "currency": "BRL"
    },
    "creditorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    },
    "remittanceInformation": "Pagamento da nota XPTO035-002.",
    "qrCode": "00020104141234567890123426660014BR.GOV.BCB.PIX014466756C616E6F32303139406578616D706C652E636F6D27300012  \nBR.COM.OUTRO011001234567895204000053039865406123.455802BR5915NOMEDORECEBEDOR6008BRASILIA61087007490062  \n530515RP12345678-201950300017BR.GOV.BCB.BRCODE01051.0.080450014BR.GOV.BCB.PIX0123PADRAO.URL.PIX/0123AB  \nCD81390012BR.COM.OUTRO01190123.ABCD.3456.WXYZ6304EB76\n",
    "pixKey": "string"
  }
}
```

<h3 id="[em-revisão]-pix---criar-iniciação-de-pagamento.-parameters">Parâmetros</h3>

|Nome|Origem|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|Authorization|header|string|true|Cabeçalho HTTP padrão. Permite que as credenciais sejam fornecidas dependendo do tipo de recurso solicitado|
|x-fapi-auth-date|header|string|false|Data em que o usuário logou pela última vez com o receptor. Representada de acordo com a [RFC7231](https://tools.ietf.org/html/rfc7231).Exemplo: Sun, 10 Sep 2017 19:43:31 UTC|
|x-fapi-customer-ip-address|header|string|false|O endereço IP do usuário se estiver atualmente logado com o receptor.|
|x-fapi-interaction-id|header|string|false|Um UID [RFC4122](https://tools.ietf.org/html/rfc4122) usado como um ID de correlação. Se fornecido, o transmissor deve "reproduzir" esse valor no cabeçalho de resposta.|
|x-customer-user-agent|header|string|false|Indica o user-agent que o usuário utiliza.|
|x-idempotency-key|header|string|true|Cabeçalho HTTP personalizado. Identificador de solicitação exclusivo para suportar a idempotência.|
|x-jws-signature|header|string|true|Cabeçalho contendo uma assinatura JWS separada do corpo do payload.|
|body|body|[CreatePixPayment](#schemacreatepixpayment)|true|Payload para criação da iniciação do pagamento Pix.|

> O comando acima retorna uma estrutura json como essa:

> 201 Response

```json
{
  "data": {
    "paymentId": "TXpRMU9UQTROMWhZV2xSU1FUazJSMDl",
    "endToEndId": "E9040088820210128000800123873170",
    "consentId": "urn:bancoex:C1DD33123",
    "creationDateTime": "2020-07-21T08:30:00Z",
    "statusUpdateDateTime": "2020-07-21T08:30:00Z",
    "pixKey": "12345678901",
    "status": "PDNG",
    "rejectionReason": "DS27",
    "payment": {
      "amount": 100000.12,
      "currency": "BRL"
    },
    "remittanceInformation": "Pagamento da nota RSTO035-002.",
    "creditorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    }
  }
}
```

> A solicitação foi bem formada, mas não pôde ser processada devido à lógica de negócios específica da solicitação.

```json
{
  "errors": [
    {
      "code": "SALDO_INSUFICIENTE",
      "title": "Saldo insuficiente.",
      "detail": "A conta selecionada não possui saldo suficiente para realizar o pagamento."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

```json
{
  "errors": [
    {
      "code": "BENEFICIARIO_INCOMPATIVEL",
      "title": "Beneficiário incompatível.",
      "detail": "O beneficiário informado no consentimento não é o mesmo do esperado pelo DICT."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

```json
{
  "errors": [
    {
      "code": "VALOR_INCOMPATIVEL",
      "title": "Valor da transação incompatível.",
      "detail": "O valor informado no consentimento não é o mesmo valor do informado no payload de pagamento."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

```json
{
  "errors": [
    {
      "code": "VALOR_ACIMA_LIMITE",
      "title": "Acima do limite estabelecido.",
      "detail": "O valor (ou quantidade de transações) ultrapassa a faixa de limite parametrizada na detentora para permitir a realização de transações pelo cliente."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

```json
{
  "errors": [
    {
      "code": "VALOR_INVALIDO",
      "title": "Valor inválido.",
      "detail": "O valor enviado não é válido para o QR Code informado."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

```json
{
  "errors": [
    {
      "code": "COBRANCA_INVALIDA",
      "title": "Cobrança inválida.",
      "detail": "Validação de expiração, validação de vencimento ou Status Válido."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

```json
{
  "errors": [
    {
      "code": "CONSENTIMENTO_INVALIDO",
      "title": "Consentimento inválido.",
      "detail": "Consentimento inválido (status diferente de 'AUTHORISED' ou está expirado)."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

```json
{
  "errors": [
    {
      "code": "JANELA_OPER_INVALIDA",
      "title": "Janela de operação inválida.",
      "detail": "Requisição está fora da janela de funcionamento."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

```json
{
  "errors": [
    {
      "code": "NAO_INFORMADO",
      "title": "Não informado.",
      "detail": "Não reportado/identificado pela instituição detentora de conta."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}
```

<h3 id="[em-revisão]-pix---criar-iniciação-de-pagamento.-responses">Resposta</h3>

|Status|Significado|Descrição|Schema|
|---|---|---|---|
|201|[Created](https://tools.ietf.org/html/rfc7231#section-6.3.2)|Iniciação de pagamento Pix criada com sucesso.|[ResponsePixPayment](#schemaresponsepixpayment)|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|A requisição foi malformada, omitindo atributos obrigatórios, seja no payload ou através de atributos na URL.|[ResponseError](#schemaresponseerror)|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Cabeçalho de autenticação ausente/inválido ou token inválido|[ResponseError](#schemaresponseerror)|
|403|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)|O token tem escopo incorreto ou uma política de segurança foi violada|[ResponseError](#schemaresponseerror)|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|O recurso solicitado não existe ou não foi implementado|[ResponseError](#schemaresponseerror)|
|405|[Method Not Allowed](https://tools.ietf.org/html/rfc7231#section-6.5.5)|O consumidor tentou acessar o recurso com um método não suportado|[ResponseError](#schemaresponseerror)|
|406|[Not Acceptable](https://tools.ietf.org/html/rfc7231#section-6.5.6)|A solicitação continha um cabeçalho Accept diferente dos tipos de mídia permitidos ou um conjunto de caracteres diferente de UTF-8|[ResponseError](#schemaresponseerror)|
|415|[Unsupported Media Type](https://tools.ietf.org/html/rfc7231#section-6.5.13)|O formato do payload não é um formato suportado.|[ResponseError](#schemaresponseerror)|
|422|[Unprocessable Entity](https://tools.ietf.org/html/rfc2518#section-10.3)|A solicitação foi bem formada, mas não pôde ser processada devido à lógica de negócios específica da solicitação.|[422ResponseErrorCreatePixPayment](#schema422responseerrorcreatepixpayment)|
|429|[Too Many Requests](https://tools.ietf.org/html/rfc6585#section-4)|A operação foi recusada, pois muitas solicitações foram feitas dentro de um determinado período ou o limite global de requisições concorrentes foi atingido|[ResponseError](#schemaresponseerror)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Ocorreu um erro no gateway da API ou no microsserviço|[ResponseError](#schemaresponseerror)|

### Response Headers

|Status|Header|Type|Format|Description|
|---|---|---|---|---|
|201|x-fapi-interaction-id|string||none|

<aside class="warning">
Para realizar esta operação, você deve ser autenticado por meio de um dos seguintes métodos:
None ( Scopes: payments )
</aside>

## [Em Revisão] Pix - Consultar iniciação de pagamento.

<a id="opIdpaymentsGetPixPaymentsPaymentId"></a>

> Exemplo de código

```javascript
const data = null;

const xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
  if (this.readyState === this.DONE) {
    console.log(this.responseText);
  }
});

xhr.open("GET", "https://example.com/payments/v1/pix/payments/string");
xhr.setRequestHeader("Accept", "application/json");
xhr.setRequestHeader("Authorization", "string");
xhr.setRequestHeader("x-fapi-auth-date", "stringstringstringstringstrin");
xhr.setRequestHeader("x-fapi-customer-ip-address", "string");
xhr.setRequestHeader("x-fapi-interaction-id", "string");
xhr.setRequestHeader("x-customer-user-agent", "string");
xhr.setRequestHeader("x-jws-signature", "string");

xhr.send(data);
```

```python
import http.client

conn = http.client.HTTPSConnection("example.com")

headers = {
    'Accept': "application/json",
    'Authorization': "string",
    'x-fapi-auth-date': "stringstringstringstringstrin",
    'x-fapi-customer-ip-address': "string",
    'x-fapi-interaction-id': "string",
    'x-customer-user-agent': "string",
    'x-jws-signature': "string"
    }

conn.request("GET", "/payments/v1/pix/payments/string", headers=headers)

res = conn.getresponse()
data = res.read()

print(data.decode("utf-8"))
```

```java
HttpResponse<String> response = Unirest.get("https://example.com/payments/v1/pix/payments/string")
  .header("Accept", "application/json")
  .header("Authorization", "string")
  .header("x-fapi-auth-date", "stringstringstringstringstrin")
  .header("x-fapi-customer-ip-address", "string")
  .header("x-fapi-interaction-id", "string")
  .header("x-customer-user-agent", "string")
  .header("x-jws-signature", "string")
  .asString();
```

`GET /payments/v1/pix/payments/{paymentId}`

Método para consultar uma iniciação de pagamento.

### Dicionário de dados

<a href='dictionary/paymentsGetPixPaymentsPaymentId_v1.csv' target="_blank">Fazer download do dicionário de dados</a>

<h3 id="[em-revisão]-pix---consultar-iniciação-de-pagamento.-parameters">Parâmetros</h3>

|Nome|Origem|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|paymentId|path|string|true|Identificador da operação de pagamento.|
|Authorization|header|string|true|Cabeçalho HTTP padrão. Permite que as credenciais sejam fornecidas dependendo do tipo de recurso solicitado|
|x-fapi-auth-date|header|string|false|Data em que o usuário logou pela última vez com o receptor. Representada de acordo com a [RFC7231](https://tools.ietf.org/html/rfc7231).Exemplo: Sun, 10 Sep 2017 19:43:31 UTC|
|x-fapi-customer-ip-address|header|string|false|O endereço IP do usuário se estiver atualmente logado com o receptor.|
|x-fapi-interaction-id|header|string|false|Um UID [RFC4122](https://tools.ietf.org/html/rfc4122) usado como um ID de correlação. Se fornecido, o transmissor deve "reproduzir" esse valor no cabeçalho de resposta.|
|x-customer-user-agent|header|string|false|Indica o user-agent que o usuário utiliza.|
|x-jws-signature|header|string|true|Cabeçalho contendo uma assinatura JWS separada do corpo do payload.|

> O comando acima retorna uma estrutura json como essa:

> 200 Response

```json
{
  "data": {
    "paymentId": "TXpRMU9UQTROMWhZV2xSU1FUazJSMDl",
    "endToEndId": "E9040088820210128000800123873170",
    "consentId": "urn:bancoex:C1DD33123",
    "creationDateTime": "2020-07-21T08:30:00Z",
    "statusUpdateDateTime": "2020-07-21T08:30:00Z",
    "pixKey": "12345678901",
    "status": "PDNG",
    "rejectionReason": "DS27",
    "payment": {
      "amount": 100000.12,
      "currency": "BRL"
    },
    "remittanceInformation": "Pagamento da nota RSTO035-002.",
    "creditorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    }
  }
}
```

<h3 id="[em-revisão]-pix---consultar-iniciação-de-pagamento.-responses">Resposta</h3>

|Status|Significado|Descrição|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Dados de iniciação de pagamento Pix obtidos com sucesso.|[ResponsePixPayment](#schemaresponsepixpayment)|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|A requisição foi malformada, omitindo atributos obrigatórios, seja no payload ou através de atributos na URL.|[ResponseError](#schemaresponseerror)|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Cabeçalho de autenticação ausente/inválido ou token inválido|[ResponseError](#schemaresponseerror)|
|403|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)|O token tem escopo incorreto ou uma política de segurança foi violada|[ResponseError](#schemaresponseerror)|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|O recurso solicitado não existe ou não foi implementado|[ResponseError](#schemaresponseerror)|
|405|[Method Not Allowed](https://tools.ietf.org/html/rfc7231#section-6.5.5)|O consumidor tentou acessar o recurso com um método não suportado|[ResponseError](#schemaresponseerror)|
|406|[Not Acceptable](https://tools.ietf.org/html/rfc7231#section-6.5.6)|A solicitação continha um cabeçalho Accept diferente dos tipos de mídia permitidos ou um conjunto de caracteres diferente de UTF-8|[ResponseError](#schemaresponseerror)|
|415|[Unsupported Media Type](https://tools.ietf.org/html/rfc7231#section-6.5.13)|O formato do payload não é um formato suportado.|[ResponseError](#schemaresponseerror)|
|429|[Too Many Requests](https://tools.ietf.org/html/rfc6585#section-4)|A operação foi recusada, pois muitas solicitações foram feitas dentro de um determinado período ou o limite global de requisições concorrentes foi atingido|[ResponseError](#schemaresponseerror)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Ocorreu um erro no gateway da API ou no microsserviço|[ResponseError](#schemaresponseerror)|

### Response Headers

|Status|Header|Type|Format|Description|
|---|---|---|---|---|
|200|x-fapi-interaction-id|string||none|

<aside class="warning">
Para realizar esta operação, você deve ser autenticado por meio de um dos seguintes métodos:
None ( Scopes: payments )
</aside>

<h1 id="fase-3-apis-do-open-banking-brasil-schemas">Schemas</h1>

<h2 id="tocS_Account">Account</h2>

<a id="schemaaccount"></a>
<a id="schema_Account"></a>
<a id="tocSaccount"></a>
<a id="tocsaccount"></a>

```json
{
  "ispb": "12345678",
  "branchCode": "1774",
  "number": "1234567890",
  "checkDigit": "4",
  "accountType": "CACC"
}

```

Objeto que contém a identificação de uma conta. 

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|ispb|string|true|Deve ser preenchido com o ISPB (Identificador do Sistema de Pagamentos Brasileiros) do participante do SPI (Sistema de pagamentos instantâneos) somente com números.|
|branchCode|string|false|Código da Agência detentora da conta sem dígito.  <br>(Agência é a dependência destinada ao atendimento aos clientes, ao público em geral e aos associados de cooperativas de crédito,  <br>no exercício de atividades da instituição, não podendo ser móvel ou transitória).  <br>[Restrição] Preenchimento obrigatório para os seguintes tipos de conta: CACC (CONTA_DEPOSITO_A_VISTA), SVGS (CONTA_POUPANCA) e SLRY (CONTA_SALARIO).|
|number|string|true|Número da conta sem o dígito.|
|checkDigit|string|true|Dígito da conta.|
|accountType|[EnumAccountPaymentsType](#schemaenumaccountpaymentstype)|true|Tipos de contas usadas para pagamento via Pix.  <br>Modalidades tradicionais previstas pela Resolução 4.753, não contemplando contas vinculadas,  <br>conta de domiciliados no exterior, contas em moedas estrangeiras e conta correspondente moeda eletrônica.  <br>Segue descrição de cada valor do ENUM para o escopo do Pix.  <br>CACC - Current - Conta Corrente.  <br>SLRY - Salary - Conta-Salário.  <br>SVGS - Savings - Conta de Poupança.  <br>TRAN - TransactingAccount - Conta de Pagamento pré-paga.|

<h2 id="tocS_CreatePaymentConsent">CreatePaymentConsent</h2>

<a id="schemacreatepaymentconsent"></a>
<a id="schema_CreatePaymentConsent"></a>
<a id="tocScreatepaymentconsent"></a>
<a id="tocscreatepaymentconsent"></a>

```json
{
  "data": {
    "creditor": {
      "personType": "PESSOA_NATURAL",
      "cpfCnpj": "58764789000137",
      "name": "Marco Antonio de Brito"
    },
    "payment": {
      "type": "PIX",
      "dateTime": "2021-01-01T00:00:00Z",
      "currency": "BRL",
      "amount": 100000.12
    },
    "debtorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    }
  }
}

```

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|data|object|true|Objeto contendo as informações de consentimento para a iniciação de pagamento individual.|
|» creditor|[Identification](#schemaidentification)|true|Objeto contendo os dados do recebedor (creditor).|
|» payment|[PaymentConsent](#schemapaymentconsent)|true|Objeto contendo dados de pagamento para consentimento.|
|» debtorAccount|[DebtorAccount](#schemadebtoraccount)|false|Objeto que contém a identificação da conta de origem do pagador.  <br>As informações quanto à conta de origem do pagador poderão ser trazidas no consentimento para a detentora, caso a iniciadora tenha coletado essas informações do cliente. Do contrário, será coletada na detentora e trazida para a iniciadora como resposta à criação do pagamento.|

<h2 id="tocS_CreatePixPayment">CreatePixPayment</h2>

<a id="schemacreatepixpayment"></a>
<a id="schema_CreatePixPayment"></a>
<a id="tocScreatepixpayment"></a>
<a id="tocscreatepixpayment"></a>

```json
{
  "data": {
    "payment": {
      "amount": 100000.12,
      "currency": "BRL"
    },
    "creditorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    },
    "remittanceInformation": "Pagamento da nota XPTO035-002.",
    "qrCode": "00020104141234567890123426660014BR.GOV.BCB.PIX014466756C616E6F32303139406578616D706C652E636F6D27300012  \nBR.COM.OUTRO011001234567895204000053039865406123.455802BR5915NOMEDORECEBEDOR6008BRASILIA61087007490062  \n530515RP12345678-201950300017BR.GOV.BCB.BRCODE01051.0.080450014BR.GOV.BCB.PIX0123PADRAO.URL.PIX/0123AB  \nCD81390012BR.COM.OUTRO01190123.ABCD.3456.WXYZ6304EB76\n",
    "pixKey": "string"
  }
}

```

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|data|[CreatePixPaymentData](#schemacreatepixpaymentdata)|true|Objeto contendo dados do pagamento e do recebedor (creditor).|

<h2 id="tocS_CreatePixPaymentData">CreatePixPaymentData</h2>

<a id="schemacreatepixpaymentdata"></a>
<a id="schema_CreatePixPaymentData"></a>
<a id="tocScreatepixpaymentdata"></a>
<a id="tocscreatepixpaymentdata"></a>

```json
{
  "payment": {
    "amount": 100000.12,
    "currency": "BRL"
  },
  "creditorAccount": {
    "ispb": "12345678",
    "branchCode": "1774",
    "number": "1234567890",
    "checkDigit": "4",
    "accountType": "CACC"
  },
  "remittanceInformation": "Pagamento da nota XPTO035-002.",
  "qrCode": "00020104141234567890123426660014BR.GOV.BCB.PIX014466756C616E6F32303139406578616D706C652E636F6D27300012  \nBR.COM.OUTRO011001234567895204000053039865406123.455802BR5915NOMEDORECEBEDOR6008BRASILIA61087007490062  \n530515RP12345678-201950300017BR.GOV.BCB.BRCODE01051.0.080450014BR.GOV.BCB.PIX0123PADRAO.URL.PIX/0123AB  \nCD81390012BR.COM.OUTRO01190123.ABCD.3456.WXYZ6304EB76\n",
  "pixKey": "string"
}

```

Objeto contendo dados do pagamento e do recebedor (creditor).

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|payment|[PaymentPix](#schemapaymentpix)|true|Objeto contendo dados do pagameto como moeda e valor.|
|creditorAccount|[CreditorAccount](#schemacreditoraccount)|true|Objeto que contém a identificação da conta de destino do beneficiário/recebedor.|
|remittanceInformation|string|false|Deve ser preenchido sempre que o usuário pagador inserir alguma informação adicional em um pagamento, a ser enviada ao recebedor.|
|qrCode|string|false|Sequência de caracteres que corresponde ao QR Code disponibilizado para o pagador.  <br>É a sequência de caracteres que seria lida pelo leitor de QR Code, e deve propiciar o retorno dos dados do pagador após consulta na DICT.  <br>Essa funcionalidade é possível tanto para QR Code estático quanto para QR Code dinâmico.  <br>No arranjo do Pix esta é a mesma sequência gerada e/ou lida pela funcionalidade Pix Copia e Cola.  <br>Este campo deverá ser no formato UTF-8.  <br>[Restrição] Preenchimento obrigatório para pagamentos por QR Code, observado o tamanho máximo de 512 bytes.|
|pixKey|string|false|Chave cadastrada no DICT pertencente ao recebedor. Os tipos de chaves podem ser: telefone, e-mail, cpf/cnpj ou chave aleatória.  <br>No caso de telefone celular deve ser informado no padrão E.1641.  <br>Para e-mail deve ter o formato xxxxxxxx@xxxxxxx.xxx(.xx) e no máximo 77 caracteres.  <br>No caso de CPF deverá ser informado com 11 números, sem pontos ou traços.  <br>Para o caso de CNPJ deverá ser informado com 14 números, sem pontos ou traços.  <br>No caso de chave aleatória deve ser informado o UUID gerado pelo DICT, conforme formato especificado na RFC41223.  <br>[Restrição] Preenchimento obrigatório para pagamentos via Chave.|

<h2 id="tocS_DebtorAccount">DebtorAccount</h2>

<a id="schemadebtoraccount"></a>
<a id="schema_DebtorAccount"></a>
<a id="tocSdebtoraccount"></a>
<a id="tocsdebtoraccount"></a>

```json
{
  "ispb": "12345678",
  "branchCode": "1774",
  "number": "1234567890",
  "checkDigit": "4",
  "accountType": "CACC"
}

```

Objeto que contém a identificação da conta de origem do pagador.  
As informações quanto à conta de origem do pagador poderão ser trazidas no consentimento para a detentora, caso a iniciadora tenha coletado essas informações do cliente. Do contrário, será coletada na detentora e trazida para a iniciadora como resposta à criação do pagamento.

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|ispb|string|true|Deve ser preenchido com o ISPB (Identificador do Sistema de Pagamentos Brasileiros) do participante do SPI (Sistema de pagamentos instantâneos) somente com números.|
|branchCode|string|false|Código da Agência detentora da conta sem dígito.  <br>(Agência é a dependência destinada ao atendimento aos clientes, ao público em geral e aos associados de cooperativas de crédito,  <br>no exercício de atividades da instituição, não podendo ser móvel ou transitória).  <br>[Restrição] Preenchimento obrigatório para os seguintes tipos de conta: CACC (CONTA_DEPOSITO_A_VISTA), SVGS (CONTA_POUPANCA) e SLRY (CONTA_SALARIO).|
|number|string|true|Número da conta sem o dígito.|
|checkDigit|string|true|Dígito da conta.|
|accountType|[EnumAccountPaymentsType](#schemaenumaccountpaymentstype)|true|Tipos de contas usadas para pagamento via Pix.  <br>Modalidades tradicionais previstas pela Resolução 4.753, não contemplando contas vinculadas,  <br>conta de domiciliados no exterior, contas em moedas estrangeiras e conta correspondente moeda eletrônica.  <br>Segue descrição de cada valor do ENUM para o escopo do Pix.  <br>CACC - Current - Conta Corrente.  <br>SLRY - Salary - Conta-Salário.  <br>SVGS - Savings - Conta de Poupança.  <br>TRAN - TransactingAccount - Conta de Pagamento pré-paga.|

<h2 id="tocS_EnumAccountPaymentsType">EnumAccountPaymentsType</h2>

<a id="schemaenumaccountpaymentstype"></a>
<a id="schema_EnumAccountPaymentsType"></a>
<a id="tocSenumaccountpaymentstype"></a>
<a id="tocsenumaccountpaymentstype"></a>

```json
"CACC"

```

Tipos de contas usadas para pagamento via Pix.  
Modalidades tradicionais previstas pela Resolução 4.753, não contemplando contas vinculadas,  
conta de domiciliados no exterior, contas em moedas estrangeiras e conta correspondente moeda eletrônica.  
Segue descrição de cada valor do ENUM para o escopo do Pix.  
CACC - Current - Conta Corrente.  
SLRY - Salary - Conta-Salário.  
SVGS - Savings - Conta de Poupança.  
TRAN - TransactingAccount - Conta de Pagamento pré-paga.

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|**|string|false|Tipos de contas usadas para pagamento via Pix.  <br>Modalidades tradicionais previstas pela Resolução 4.753, não contemplando contas vinculadas,  <br>conta de domiciliados no exterior, contas em moedas estrangeiras e conta correspondente moeda eletrônica.  <br>Segue descrição de cada valor do ENUM para o escopo do Pix.  <br>CACC - Current - Conta Corrente.  <br>SLRY - Salary - Conta-Salário.  <br>SVGS - Savings - Conta de Poupança.  <br>TRAN - TransactingAccount - Conta de Pagamento pré-paga.|

#### Enumerated Values

|Nome|Código|
|---|---|
|**|CACC|
|**|SLRY|
|**|SVGS|
|**|TRAN|

<h2 id="tocS_EnumAuthorisationStatusType">EnumAuthorisationStatusType</h2>

<a id="schemaenumauthorisationstatustype"></a>
<a id="schema_EnumAuthorisationStatusType"></a>
<a id="tocSenumauthorisationstatustype"></a>
<a id="tocsenumauthorisationstatustype"></a>

```json
"AWAITING_AUTHORISATION"

```

Retorna o estado do consentimento, o qual no momento de sua criação será AWAITING_AUTHORISATION.
Este estado será alterado depois da autorização do consentimento na detentora da conta do pagador (Debtor) para AUTHORISED ou REJECTED. 
O consentimento fica no estado CONSUMED após ocorrer a iniciação do pagamento referente ao consentimento.  
Em caso de consentimento expirado a detentora deverá retornar o status REJECTED.  
Estados possíveis:  
AWAITING_AUTHORISATION - Aguardando autorização  
AUTHORISED - Autorizado   
REJECTED - Rejeitado  
CONSUMED - Consumido 

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|**|string|false|Retorna o estado do consentimento, o qual no momento de sua criação será AWAITING_AUTHORISATION.<br>Este estado será alterado depois da autorização do consentimento na detentora da conta do pagador (Debtor) para AUTHORISED ou REJECTED. <br>O consentimento fica no estado CONSUMED após ocorrer a iniciação do pagamento referente ao consentimento.  <br>Em caso de consentimento expirado a detentora deverá retornar o status REJECTED.  <br>Estados possíveis:  <br>AWAITING_AUTHORISATION - Aguardando autorização  <br>AUTHORISED - Autorizado   <br>REJECTED - Rejeitado  <br>CONSUMED - Consumido|

#### Enumerated Values

|Nome|Código|
|---|---|
|**|AWAITING_AUTHORISATION|
|**|AUTHORISED|
|**|REJECTED|
|**|CONSUMED|

<h2 id="tocS_EnumPaymentPersonType">EnumPaymentPersonType</h2>

<a id="schemaenumpaymentpersontype"></a>
<a id="schema_EnumPaymentPersonType"></a>
<a id="tocSenumpaymentpersontype"></a>
<a id="tocsenumpaymentpersontype"></a>

```json
"PESSOA_NATURAL"

```

Titular, pessoa natural ou juridica a quem se referem os dados de recebedor (creditor).

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|**|string|false|Titular, pessoa natural ou juridica a quem se referem os dados de recebedor (creditor).|

#### Enumerated Values

|Nome|Código|
|---|---|
|**|PESSOA_NATURAL|
|**|PESSOA_JURIDICA|

<h2 id="tocS_EnumPaymentType">EnumPaymentType</h2>

<a id="schemaenumpaymenttype"></a>
<a id="schema_EnumPaymentType"></a>
<a id="tocSenumpaymenttype"></a>
<a id="tocsenumpaymenttype"></a>

```json
"PIX"

```

Este campo define o tipo de pagamento que será iniciado após a autorização do consentimento.

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|**|string|false|Este campo define o tipo de pagamento que será iniciado após a autorização do consentimento.|

#### Enumerated Values

|Nome|Código|
|---|---|
|**|PIX|

<h2 id="tocS_EnumErrorsCreateConsent">EnumErrorsCreateConsent</h2>

<a id="schemaenumerrorscreateconsent"></a>
<a id="schema_EnumErrorsCreateConsent"></a>
<a id="tocSenumerrorscreateconsent"></a>
<a id="tocsenumerrorscreateconsent"></a>

```json
"FORMA_PGTO_INVALIDA"

```

Códigos de erros previstos na criação de consentimento para a iniciação de pagamentos:  
• FORMA_PGTO_INVALIDA: Forma de pagamento inválida.  
• DATA_PGTO_INVALIDA: Data de pagamento inválida.  
• NAO_INFORMADO: Não informado.  

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|**|string|false|Códigos de erros previstos na criação de consentimento para a iniciação de pagamentos:  <br>• FORMA_PGTO_INVALIDA: Forma de pagamento inválida.  <br>• DATA_PGTO_INVALIDA: Data de pagamento inválida.  <br>• NAO_INFORMADO: Não informado.|

#### Enumerated Values

|Nome|Código|
|---|---|
|**|FORMA_PGTO_INVALIDA|
|**|DATA_PGTO_INVALIDA|
|**|NAO_INFORMADO|

<h2 id="tocS_EnumErrorsCreatePayment">EnumErrorsCreatePayment</h2>

<a id="schemaenumerrorscreatepayment"></a>
<a id="schema_EnumErrorsCreatePayment"></a>
<a id="tocSenumerrorscreatepayment"></a>
<a id="tocsenumerrorscreatepayment"></a>

```json
"SALDO_INSUFICIENTE"

```

Códigos de erros previstos na criação da iniciação de pagamento:  
• SALDO_INSUFICIENTE – Saldo insuficiente.  
• BENEFICIARIO_INCOMPATIVEL – Beneficiário incompatível.  
• VALOR_INCOMPATIVEL – Valor da transação incompatível.  
• VALOR_ACIMA_LIMITE – Acima do limite estabelecido.  
• VALOR_INVALIDO – Valor inválido.  
• COBRANCA_INVALIDA – Cobrança inválida.  
• CONSENTIMENTO_INVALIDO – Consentimento inválido.  
• JANELA_OPER_INVALIDA – Janela de operação inválida.  
• NAO_INFORMADO – Não reportado/identificado pela instituição detentora de conta.  

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|**|string|false|Códigos de erros previstos na criação da iniciação de pagamento:  <br>• SALDO_INSUFICIENTE – Saldo insuficiente.  <br>• BENEFICIARIO_INCOMPATIVEL – Beneficiário incompatível.  <br>• VALOR_INCOMPATIVEL – Valor da transação incompatível.  <br>• VALOR_ACIMA_LIMITE – Acima do limite estabelecido.  <br>• VALOR_INVALIDO – Valor inválido.  <br>• COBRANCA_INVALIDA – Cobrança inválida.  <br>• CONSENTIMENTO_INVALIDO – Consentimento inválido.  <br>• JANELA_OPER_INVALIDA – Janela de operação inválida.  <br>• NAO_INFORMADO – Não reportado/identificado pela instituição detentora de conta.|

#### Enumerated Values

|Nome|Código|
|---|---|
|**|SALDO_INSUFICIENTE|
|**|BENEFICIARIO_INCOMPATIVEL|
|**|VALOR_INCOMPATIVEL|
|**|VALOR_ACIMA_LIMITE|
|**|VALOR_INVALIDO|
|**|COBRANCA_INVALIDA|
|**|CONSENTIMENTO_INVALIDO|
|**|JANELA_OPER_INVALIDA|
|**|NAO_INFORMADO|

<h2 id="tocS_EnumRejectionReasonType">EnumRejectionReasonType</h2>

<a id="schemaenumrejectionreasontype"></a>
<a id="schema_EnumRejectionReasonType"></a>
<a id="tocSenumrejectionreasontype"></a>
<a id="tocsenumrejectionreasontype"></a>

```json
"DS27"

```

Motivo da rejeição do pagamento. Informações complementares sobre o motivo do status.  
AB03 (ABORTED_SETTLEMENT_TIMEOUT) - Liquidação da transação interrompida devido a timeout no SPI.                       
AB09 (ERROR_CREDITOR_AGENT) - Transação interrompida devido a erro no participante do usuário recebedor.  
AB11 (TIMEOUT_DEBTOR_AGENT) - Timeout do participante emissor da ordem de pagamento.  
AC03 (INVALID_CREDITOR_ACCOUNT_NUMBER) - Número da conta transacional do usuário recebedor inexistente ou inválido.  
AC06 (BLOCKED_ACCOUNT) - Conta transacional do usuário recebedor encontra-se bloqueada.  
AC07 (CLOSED_CREDITOR_ACCOUNT_NUMBER) - Número da conta transacional do usuário recebedor encerrada.  
AC14 (INVALID_CREDITOR_ACCOUNTTYPE) - Tipo incorreto para a conta transacional do usuário recebedor.    AG03 (TRANSACTION_NOT_SUPPORTED) - Tipo de transação não é suportado/autorizado na conta transacional do usuário recebedor. Exemplo: transferência para conta salário.  
AG12 (NOT_ALLOWED_BOOK_TRANSFER) - Não é permitida ordem de pagamento/devolução no SPI cujos recursos sejam transferidos de uma conta transacional para outra em uma mesma instituição participante ou entre participantes que utilizem o serviço de liquidação de um mesmo participante liquidante no SPI (booktransfer).  
AG13 (FORBIDDEN_RETURN_PAYMENT) - Não é permitido devolver a devolução de um pagamento instantâneo.  
AGNT (INCORRECT_AGENT) - Participante direto não é liquidante do participante do usuário pagador / participante do usuário recebedor.  
AM01 (ZERO_AMOUNT) - Ordem de pagamento instantâneo com valor zero.  
AM02 (NOT_ALLOWED_AMOUNT) - Ordem de pagamento/devolução em valor que faz superar o limite permitido para o tipo de conta transacional creditada.  
AM04 (INSUFFICIENT_FUNDS) - Saldo insuficiente na conta PI do participante do usuário pagador.  
AM09 (WRONG_AMOUNT) - Devolução de pagamento em valor que faz superar o valor da ordem de pagamento instantâneo correspondente.  
AM12 (INVALID_AMOUNT) - Divergência entre a somatória dos valores do bloco ‘valorDoDinheiroOuCompra’ e o campo ‘valor’.  
AM18 (INVALID_NUMBER_OF_TRANSACTIONS) - Quantidade de transações inválida.  
BE01 (INCONSISTENT_WITH_END_CUSTOMER) - CPF/CNPJ do usuário recebedor não é consistente com o titular da conta transacional especificada.  
BE15 (INVALID_IDENTIFICATION_CODE) - Código de situação de pagamento ou de erro inválido.  
BE17 (INVALID_CREDITOR_IDENTIFICATION_CODE) - QR Code rejeitado pelo participante do usuário recebedor.  
CH11 (CREDITOR_IDENTIFIER_INCORRECT) - CPF/CNPJ do usuário recebedor incorreto.  
CH16 (ELEMENT_CONTENT_FORMALLY_INCORRECT) - Elemento da mensagem incorreto.  
DS04 (ORDER_REJECTED) - Ordem rejeitada pelo participante do usuário recebedor.  
DS0G (NOT_ALLOWED_PAYMENT) - Participante que assinou a mensagem não é autorizado a realizar a operação na conta PI debitada. No caso em que o participante que assinou a mensagem não é o titular da conta PI debitada nem é o liquidante no SPI do participante do usuário pagador.  
DS0H (NOT_ALLOWED_ACCOUNT) - ISPB do participante que submeteu a resposta à ordem de pagamento/devolução diferente do ISPB do participante creditado pela ordem.  
DS27 (USER_NOT_YET_ACTIVATED) - Participante não se encontra cadastrado ou ainda não iniciou a operação no SPI.  
DT02 (INVALID_CREATION_DATE) - Data e Hora do envio da mensagem inválida.  
DT05 (INVALID_CUT_OFF_DATE) - Transação extrapola o prazo máximo para devolução de pagamento instantâneo regulamentado pelo Arranjo Pix.  
ED05 (SETTLEMENT_FAILED) - Erro no processamento do pagamento instantâneo.  
FF07 (INVALID_PURPOSE) - Inconsistência entre a finalidade da transação e o preenchimento do bloco elementos Structured.  
FF08 (INVALID_END_TO_END_ID) - Identificador da operação mal formatado.  
RC09 (INVALID_DEBTOR_CLEARING_SYSTEM_MEMBER_IDENTIFIER) - ISPB do participante do usuário pagador inválido ou inexistente.  
RC10 (INVALID_CREDITOR_CLEARING_SYSTEM_MEMBER_IDENTIFIER) - ISPB do participante do usuário recebedor inválido ou inexistente.  
RR4  (REGULATORY_REASON) - Ordem de pagamento em que o usuário pagador é sancionado por resolução do Conselho de Segurança das Nações Unidas (CSNU). Nos casos em que o usuário recebedor for o sancionado, a ordem de pagamento não deve ser rejeitada.  
SL02 (SPECIFIC_SERVICE_OFFERED_BY_CREDITOR_AGENT) - A transação original não está relacionada ao serviço de Saque Pix.  
[Restrição] Esse motivo deverá ser enviado quando o campo /data/status for igual a RJCT (REJECTED).  

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|**|string|false|Motivo da rejeição do pagamento. Informações complementares sobre o motivo do status.  <br>AB03 (ABORTED_SETTLEMENT_TIMEOUT) - Liquidação da transação interrompida devido a timeout no SPI.                       <br>AB09 (ERROR_CREDITOR_AGENT) - Transação interrompida devido a erro no participante do usuário recebedor.  <br>AB11 (TIMEOUT_DEBTOR_AGENT) - Timeout do participante emissor da ordem de pagamento.  <br>AC03 (INVALID_CREDITOR_ACCOUNT_NUMBER) - Número da conta transacional do usuário recebedor inexistente ou inválido.  <br>AC06 (BLOCKED_ACCOUNT) - Conta transacional do usuário recebedor encontra-se bloqueada.  <br>AC07 (CLOSED_CREDITOR_ACCOUNT_NUMBER) - Número da conta transacional do usuário recebedor encerrada.  <br>AC14 (INVALID_CREDITOR_ACCOUNTTYPE) - Tipo incorreto para a conta transacional do usuário recebedor.    AG03 (TRANSACTION_NOT_SUPPORTED) - Tipo de transação não é suportado/autorizado na conta transacional do usuário recebedor. Exemplo: transferência para conta salário.  <br>AG12 (NOT_ALLOWED_BOOK_TRANSFER) - Não é permitida ordem de pagamento/devolução no SPI cujos recursos sejam transferidos de uma conta transacional para outra em uma mesma instituição participante ou entre participantes que utilizem o serviço de liquidação de um mesmo participante liquidante no SPI (booktransfer).  <br>AG13 (FORBIDDEN_RETURN_PAYMENT) - Não é permitido devolver a devolução de um pagamento instantâneo.  <br>AGNT (INCORRECT_AGENT) - Participante direto não é liquidante do participante do usuário pagador / participante do usuário recebedor.  <br>AM01 (ZERO_AMOUNT) - Ordem de pagamento instantâneo com valor zero.  <br>AM02 (NOT_ALLOWED_AMOUNT) - Ordem de pagamento/devolução em valor que faz superar o limite permitido para o tipo de conta transacional creditada.  <br>AM04 (INSUFFICIENT_FUNDS) - Saldo insuficiente na conta PI do participante do usuário pagador.  <br>AM09 (WRONG_AMOUNT) - Devolução de pagamento em valor que faz superar o valor da ordem de pagamento instantâneo correspondente.  <br>AM12 (INVALID_AMOUNT) - Divergência entre a somatória dos valores do bloco ‘valorDoDinheiroOuCompra’ e o campo ‘valor’.  <br>AM18 (INVALID_NUMBER_OF_TRANSACTIONS) - Quantidade de transações inválida.  <br>BE01 (INCONSISTENT_WITH_END_CUSTOMER) - CPF/CNPJ do usuário recebedor não é consistente com o titular da conta transacional especificada.  <br>BE15 (INVALID_IDENTIFICATION_CODE) - Código de situação de pagamento ou de erro inválido.  <br>BE17 (INVALID_CREDITOR_IDENTIFICATION_CODE) - QR Code rejeitado pelo participante do usuário recebedor.  <br>CH11 (CREDITOR_IDENTIFIER_INCORRECT) - CPF/CNPJ do usuário recebedor incorreto.  <br>CH16 (ELEMENT_CONTENT_FORMALLY_INCORRECT) - Elemento da mensagem incorreto.  <br>DS04 (ORDER_REJECTED) - Ordem rejeitada pelo participante do usuário recebedor.  <br>DS0G (NOT_ALLOWED_PAYMENT) - Participante que assinou a mensagem não é autorizado a realizar a operação na conta PI debitada. No caso em que o participante que assinou a mensagem não é o titular da conta PI debitada nem é o liquidante no SPI do participante do usuário pagador.  <br>DS0H (NOT_ALLOWED_ACCOUNT) - ISPB do participante que submeteu a resposta à ordem de pagamento/devolução diferente do ISPB do participante creditado pela ordem.  <br>DS27 (USER_NOT_YET_ACTIVATED) - Participante não se encontra cadastrado ou ainda não iniciou a operação no SPI.  <br>DT02 (INVALID_CREATION_DATE) - Data e Hora do envio da mensagem inválida.  <br>DT05 (INVALID_CUT_OFF_DATE) - Transação extrapola o prazo máximo para devolução de pagamento instantâneo regulamentado pelo Arranjo Pix.  <br>ED05 (SETTLEMENT_FAILED) - Erro no processamento do pagamento instantâneo.  <br>FF07 (INVALID_PURPOSE) - Inconsistência entre a finalidade da transação e o preenchimento do bloco elementos Structured.  <br>FF08 (INVALID_END_TO_END_ID) - Identificador da operação mal formatado.  <br>RC09 (INVALID_DEBTOR_CLEARING_SYSTEM_MEMBER_IDENTIFIER) - ISPB do participante do usuário pagador inválido ou inexistente.  <br>RC10 (INVALID_CREDITOR_CLEARING_SYSTEM_MEMBER_IDENTIFIER) - ISPB do participante do usuário recebedor inválido ou inexistente.  <br>RR4  (REGULATORY_REASON) - Ordem de pagamento em que o usuário pagador é sancionado por resolução do Conselho de Segurança das Nações Unidas (CSNU). Nos casos em que o usuário recebedor for o sancionado, a ordem de pagamento não deve ser rejeitada.  <br>SL02 (SPECIFIC_SERVICE_OFFERED_BY_CREDITOR_AGENT) - A transação original não está relacionada ao serviço de Saque Pix.  <br>[Restrição] Esse motivo deverá ser enviado quando o campo /data/status for igual a RJCT (REJECTED).|

#### Enumerated Values

|Nome|Código|
|---|---|
|**|AB03|
|**|AB09|
|**|AB11|
|**|AC03|
|**|AC06|
|**|AC07|
|**|AC14|
|**|AG03|
|**|AG12|
|**|AG13|
|**|AGNT|
|**|AM01|
|**|AM02|
|**|AM04|
|**|AM09|
|**|AM12|
|**|AM18|
|**|BE01|
|**|BE15|
|**|BE17|
|**|CH11|
|**|CH16|
|**|DS04|
|**|DS0G|
|**|DS0H|
|**|DS27|
|**|DT02|
|**|DT05|
|**|ED05|
|**|FF07|
|**|FF08|
|**|RC09|
|**|RC10|
|**|RR4|
|**|SL02|

<h2 id="tocS_EnumPaymentStatusType">EnumPaymentStatusType</h2>

<a id="schemaenumpaymentstatustype"></a>
<a id="schema_EnumPaymentStatusType"></a>
<a id="tocSenumpaymentstatustype"></a>
<a id="tocsenumpaymentstatustype"></a>

```json
"PDNG"

```

Estado atual da iniciação de pagamento. O estado evolui na seguinte ordem:  
1. PDNG (PENDING) - Iniciação de pagamento ou transação de pagamento está pendente. Checagens adicionais em realização.  
2. PART (PARTIALLY ACCEPTED) - Aguardando autorização múltipla alçada.  
3. ACSP (ACCEPTED_SETTLEMENT_IN_PROCESS) - Iniciação de pagamento aceita e processamento do pagamento foi iniciado.  
4. ACSC (ACCEPTED_SETTLEMENT_COMPLETED_DEBITOR_ACCOUNT) - Débito realizado na conta do pagador.  
5. ACCC (ACCEPTED_SETTLEMENT_COMPLETED) - Crédito realizado na instituição de destino.  
Em caso insucesso:  
RJCT (REJECTED) - Instrução de pagamento rejeitada.

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|**|string|false|Estado atual da iniciação de pagamento. O estado evolui na seguinte ordem:  <br>1. PDNG (PENDING) - Iniciação de pagamento ou transação de pagamento está pendente. Checagens adicionais em realização.  <br>2. PART (PARTIALLY ACCEPTED) - Aguardando autorização múltipla alçada.  <br>3. ACSP (ACCEPTED_SETTLEMENT_IN_PROCESS) - Iniciação de pagamento aceita e processamento do pagamento foi iniciado.  <br>4. ACSC (ACCEPTED_SETTLEMENT_COMPLETED_DEBITOR_ACCOUNT) - Débito realizado na conta do pagador.  <br>5. ACCC (ACCEPTED_SETTLEMENT_COMPLETED) - Crédito realizado na instituição de destino.  <br>Em caso insucesso:  <br>RJCT (REJECTED) - Instrução de pagamento rejeitada.|

#### Enumerated Values

|Nome|Código|
|---|---|
|**|PDNG|
|**|PART|
|**|ACSP|
|**|ACSC|
|**|ACCC|
|**|RJCT|

<h2 id="tocS_CreditorAccount">CreditorAccount</h2>

<a id="schemacreditoraccount"></a>
<a id="schema_CreditorAccount"></a>
<a id="tocScreditoraccount"></a>
<a id="tocscreditoraccount"></a>

```json
{
  "ispb": "12345678",
  "branchCode": "1774",
  "number": "1234567890",
  "checkDigit": "4",
  "accountType": "CACC"
}

```

Objeto que contém a identificação da conta de destino do beneficiário/recebedor.  

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|ispb|string|true|Deve ser preenchido com o ISPB (Identificador do Sistema de Pagamentos Brasileiros) do participante do SPI (Sistema de pagamentos instantâneos) somente com números.|
|branchCode|string|false|Código da Agência detentora da conta sem dígito.  <br>(Agência é a dependência destinada ao atendimento aos clientes, ao público em geral e aos associados de cooperativas de crédito,  <br>no exercício de atividades da instituição, não podendo ser móvel ou transitória).  <br>[Restrição] Preenchimento obrigatório para os seguintes tipos de conta: CACC (CONTA_DEPOSITO_A_VISTA), SVGS (CONTA_POUPANCA) e SLRY (CONTA_SALARIO).|
|number|string|true|Número da conta sem o dígito.|
|checkDigit|string|true|Dígito da conta.|
|accountType|[EnumAccountPaymentsType](#schemaenumaccountpaymentstype)|true|Tipos de contas usadas para pagamento via Pix.  <br>Modalidades tradicionais previstas pela Resolução 4.753, não contemplando contas vinculadas,  <br>conta de domiciliados no exterior, contas em moedas estrangeiras e conta correspondente moeda eletrônica.  <br>Segue descrição de cada valor do ENUM para o escopo do Pix.  <br>CACC - Current - Conta Corrente.  <br>SLRY - Salary - Conta-Salário.  <br>SVGS - Savings - Conta de Poupança.  <br>TRAN - TransactingAccount - Conta de Pagamento pré-paga.|

<h2 id="tocS_Identification">Identification</h2>

<a id="schemaidentification"></a>
<a id="schema_Identification"></a>
<a id="tocSidentification"></a>
<a id="tocsidentification"></a>

```json
{
  "personType": "PESSOA_NATURAL",
  "cpfCnpj": "58764789000137",
  "name": "Marco Antonio de Brito"
}

```

Objeto contendo os dados do recebedor (creditor).

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|personType|[EnumPaymentPersonType](#schemaenumpaymentpersontype)|true|Titular, pessoa natural ou juridica a quem se referem os dados de recebedor (creditor).|
|cpfCnpj|string|true|Identificação da pessoa envolvida na transação.  <br>Preencher com o CPF ou CNPJ, de acordo com o valor escolhido no campo type.  <br>O CPF será utilizado com 11 números e deverá ser informado sem pontos ou traços.  <br>O CNPJ será utilizado com 14 números e deverá ser informado sem pontos ou traços.|
|name|string|true|Em caso de pessoa natural deve ser informado o nome completo do titular da conta do recebedor.  <br>Em caso de pessoa jurídica deve ser informada a razão social ou o nome fantasia da conta do recebedor.|

<h2 id="tocS_PaymentConsent">PaymentConsent</h2>

<a id="schemapaymentconsent"></a>
<a id="schema_PaymentConsent"></a>
<a id="tocSpaymentconsent"></a>
<a id="tocspaymentconsent"></a>

```json
{
  "type": "PIX",
  "dateTime": "2021-01-01T00:00:00Z",
  "currency": "BRL",
  "amount": 100000.12
}

```

Objeto contendo dados de pagamento para consentimento.

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|type|[EnumPaymentType](#schemaenumpaymenttype)|true|Este campo define o tipo de pagamento que será iniciado após a autorização do consentimento.|
|dateTime|string(date-time)|true|Data e hora do pagamento. <br>Uma string com data e hora conforme especificação RFC-3339, sempre com a utilização de timezone UTC(UTC time format).|
|currency|string|true|Código da moeda nacional segundo modelo ISO-4217, ou seja, 'BRL'. <br>Todos os valores monetários informados estão representados com a moeda vigente do Brasil.|
|amount|number(double)|true|Valor da transação com 2 casas decimais.|

<h2 id="tocS_PaymentPix">PaymentPix</h2>

<a id="schemapaymentpix"></a>
<a id="schema_PaymentPix"></a>
<a id="tocSpaymentpix"></a>
<a id="tocspaymentpix"></a>

```json
{
  "amount": 100000.12,
  "currency": "BRL"
}

```

Objeto contendo dados do pagameto como moeda e valor.

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|amount|number(double)|true|Valor da transação com 2 casas decimais.|
|currency|string|true|Código da moeda nacional segundo modelo ISO-4217, ou seja, 'BRL'.  <br>Todos os valores monetários informados estão representados com a moeda vigente do Brasil.|

<h2 id="tocS_ResponseError">ResponseError</h2>

<a id="schemaresponseerror"></a>
<a id="schema_ResponseError"></a>
<a id="tocSresponseerror"></a>
<a id="tocsresponseerror"></a>

```json
{
  "errors": [
    {
      "code": "string",
      "title": "string",
      "detail": "string"
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}

```

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|errors|[object]|true||
|» code|string|true|Código de erro específico do endpoint|
|» title|string|true|Título legível por humanos deste erro específico|
|» detail|string|true|Descrição legível por humanos deste erro específico|
|meta|[Meta](#schemameta)|false|Meta informações referente a API requisitada.|

<h2 id="tocS_422ResponseErrorCreateConsent">422ResponseErrorCreateConsent</h2>

<a id="schema422responseerrorcreateconsent"></a>
<a id="schema_422ResponseErrorCreateConsent"></a>
<a id="tocS422responseerrorcreateconsent"></a>
<a id="tocs422responseerrorcreateconsent"></a>

```json
{
  "errors": [
    {
      "code": "FORMA_PGTO_INVALIDA",
      "title": "Forma de pagamento inválida.",
      "detail": "Meio de pagamento inválido."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}

```

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|errors|[object]|true||
|» code|[EnumErrorsCreateConsent](#schemaenumerrorscreateconsent)|true|Códigos de erros previstos na criação de consentimento para a iniciação de pagamentos:  <br>• FORMA_PGTO_INVALIDA: Forma de pagamento inválida.  <br>• DATA_PGTO_INVALIDA: Data de pagamento inválida.  <br>• NAO_INFORMADO: Não informado.|
|» title|string|true|Título específico do erro reportado, de acordo com o código enviado:  <br>• FORMA_PGTO_INVALIDA: Forma de pagamento inválida.  <br>• DATA_PGTO_INVALIDA: Data de pagamento inválida.  <br>• NAO_INFORMADO: Não informado.|
|» detail|string|true|Descrição específica do erro de acordo com o código reportado:  <br>• FORMA_PGTO_INVALIDA – Meio de pagamento inválido.  <br>• DATA_PGTO_INVALIDA – Data de pagamento inválida no contexto, por exemplo, data no passado. Para pagamentos únicos deve ser informada a data atual, do dia corrente.  <br>• NAO_INFORMADO – Não reportado/identificado pela instituição detentora de conta.|
|meta|[Meta](#schemameta)|false|Meta informações referente a API requisitada.|

<h2 id="tocS_422ResponseErrorCreatePixPayment">422ResponseErrorCreatePixPayment</h2>

<a id="schema422responseerrorcreatepixpayment"></a>
<a id="schema_422ResponseErrorCreatePixPayment"></a>
<a id="tocS422responseerrorcreatepixpayment"></a>
<a id="tocs422responseerrorcreatepixpayment"></a>

```json
{
  "errors": [
    {
      "code": "SALDO_INSUFICIENTE",
      "title": "Saldo insuficiente.",
      "detail": "A conta selecionada não possui saldo suficiente para realizar o pagamento."
    }
  ],
  "meta": {
    "totalRecords": 1,
    "totalPages": 1,
    "requestDateTime": "2021-05-21T08:30:00Z"
  }
}

```

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|errors|[object]|true||
|» code|[EnumErrorsCreatePayment](#schemaenumerrorscreatepayment)|true|Códigos de erros previstos na criação da iniciação de pagamento:  <br>• SALDO_INSUFICIENTE – Saldo insuficiente.  <br>• BENEFICIARIO_INCOMPATIVEL – Beneficiário incompatível.  <br>• VALOR_INCOMPATIVEL – Valor da transação incompatível.  <br>• VALOR_ACIMA_LIMITE – Acima do limite estabelecido.  <br>• VALOR_INVALIDO – Valor inválido.  <br>• COBRANCA_INVALIDA – Cobrança inválida.  <br>• CONSENTIMENTO_INVALIDO – Consentimento inválido.  <br>• JANELA_OPER_INVALIDA – Janela de operação inválida.  <br>• NAO_INFORMADO – Não reportado/identificado pela instituição detentora de conta.|
|» title|string|true|Título específico do erro reportado, de acordo com o código enviado:  <br>• SALDO_INSUFICIENTE: Saldo insuficiente.  <br>• BENEFICIARIO_INCOMPATIVEL: Beneficiário incompatível.  <br>• VALOR_INCOMPATIVEL: Valor da transação incompatível.  <br>• VALOR_ACIMA_LIMITE: Acima do limite estabelecido.  <br>• VALOR_INVALIDO: Valor inválido.  <br>• COBRANCA_INVALIDA: Cobrança inválida.  <br>• CONSENTIMENTO_INVALIDO: Consentimento inválido.  <br>• JANELA_OPER_INVALIDA: Janela de operação inválida.  <br>• NAO_INFORMADO: Não informado.|
|» detail|string|true|Descrição específica do erro de acordo com o código reportado:  <br>• SALDO_INSUFICIENTE: A conta selecionada não possui saldo suficiente para realizar o pagamento.  <br>• BENEFICIARIO_INCOMPATIVEL: O beneficiário informado no consentimento não é o mesmo do esperado pelo DICT.  <br>• VALOR_INCOMPATIVEL: O valor informado no consentimento não é o mesmo valor do informado no payload de pagamento.  <br>• VALOR_ACIMA_LIMITE: O valor (ou quantidade de transações) ultrapassa a faixa de limite parametrizada na detentora para permitir a realização de transações pelo cliente.  <br>• VALOR_INVALIDO: O valor enviado não é válido para o QR Code informado.  <br>• COBRANCA_INVALIDA: Validação de expiração, validação de vencimento ou Status Válido.  <br>• CONSENTIMENTO_INVALIDO: Consentimento inválido (status diferente de "AUTHORISED" ou está expirado).  <br>• JANELA_OPER_INVALIDA: Requisição está fora da janela de funcionamento.  <br>• NAO_INFORMADO: Não reportado/identificado pela instituição detentora de conta.|
|meta|[Meta](#schemameta)|false|Meta informações referente a API requisitada.|

<h2 id="tocS_ResponsePaymentConsent">ResponsePaymentConsent</h2>

<a id="schemaresponsepaymentconsent"></a>
<a id="schema_ResponsePaymentConsent"></a>
<a id="tocSresponsepaymentconsent"></a>
<a id="tocsresponsepaymentconsent"></a>

```json
{
  "data": {
    "consentId": "urn:bancoex:C1DD33123",
    "creationDateTime": "2021-05-21T08:30:00Z",
    "statusUpdateDateTime": "2021-05-21T08:30:00Z",
    "status": "AWAITING_AUTHORISATION",
    "creditor": {
      "personType": "PESSOA_NATURAL",
      "cpfCnpj": "58764789000137",
      "name": "Marco Antonio de Brito"
    },
    "payment": {
      "type": "PIX",
      "dateTime": "2021-01-01T00:00:00Z",
      "currency": "BRL",
      "amount": 100000.12
    },
    "debtorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    }
  }
}

```

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|data|object|true|Objeto contendo as informações de resposta do consentimento para a iniciação de pagamento individual.|
|» consentId|string|true|Identificador único do consentimento criado para a iniciação de pagamento solicitada.|
|» creationDateTime|string(date-time)|true|Data e hora em que o consentimento foi criado. Uma string com data e hora conforme especificação RFC-3339, sempre com a utilização de timezone UTC(UTC time format).|
|» statusUpdateDateTime|string(date-time)|true|Data e hora em que o recurso foi atualizado. Uma string com data e hora conforme especificação RFC-3339, sempre com a utilização de timezone UTC(UTC time format).|
|» status|[EnumAuthorisationStatusType](#schemaenumauthorisationstatustype)|true|Retorna o estado do consentimento, o qual no momento de sua criação será AWAITING_AUTHORISATION.<br>Este estado será alterado depois da autorização do consentimento na detentora da conta do pagador (Debtor) para AUTHORISED ou REJECTED. <br>O consentimento fica no estado CONSUMED após ocorrer a iniciação do pagamento referente ao consentimento.  <br>Em caso de consentimento expirado a detentora deverá retornar o status REJECTED.  <br>Estados possíveis:  <br>AWAITING_AUTHORISATION - Aguardando autorização  <br>AUTHORISED - Autorizado   <br>REJECTED - Rejeitado  <br>CONSUMED - Consumido|
|» creditor|[Identification](#schemaidentification)|true|Objeto contendo os dados do recebedor (creditor).|
|» payment|[PaymentConsent](#schemapaymentconsent)|true|Objeto contendo dados de pagamento para consentimento.|
|» debtorAccount|[DebtorAccount](#schemadebtoraccount)|false|Objeto que contém a identificação da conta de origem do pagador.  <br>As informações quanto à conta de origem do pagador poderão ser trazidas no consentimento para a detentora, caso a iniciadora tenha coletado essas informações do cliente. Do contrário, será coletada na detentora e trazida para a iniciadora como resposta à criação do pagamento.|

<h2 id="tocS_ResponsePixPayment">ResponsePixPayment</h2>

<a id="schemaresponsepixpayment"></a>
<a id="schema_ResponsePixPayment"></a>
<a id="tocSresponsepixpayment"></a>
<a id="tocsresponsepixpayment"></a>

```json
{
  "data": {
    "paymentId": "TXpRMU9UQTROMWhZV2xSU1FUazJSMDl",
    "endToEndId": "E9040088820210128000800123873170",
    "consentId": "urn:bancoex:C1DD33123",
    "creationDateTime": "2020-07-21T08:30:00Z",
    "statusUpdateDateTime": "2020-07-21T08:30:00Z",
    "pixKey": "12345678901",
    "status": "PDNG",
    "rejectionReason": "DS27",
    "payment": {
      "amount": 100000.12,
      "currency": "BRL"
    },
    "remittanceInformation": "Pagamento da nota RSTO035-002.",
    "creditorAccount": {
      "ispb": "12345678",
      "branchCode": "1774",
      "number": "1234567890",
      "checkDigit": "4",
      "accountType": "CACC"
    }
  }
}

```

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|data|[ResponsePixPaymentData](#schemaresponsepixpaymentdata)|true|Objeto contendo dados do pagamento e da conta do recebedor (creditor).|

<h2 id="tocS_ResponsePixPaymentData">ResponsePixPaymentData</h2>

<a id="schemaresponsepixpaymentdata"></a>
<a id="schema_ResponsePixPaymentData"></a>
<a id="tocSresponsepixpaymentdata"></a>
<a id="tocsresponsepixpaymentdata"></a>

```json
{
  "paymentId": "TXpRMU9UQTROMWhZV2xSU1FUazJSMDl",
  "endToEndId": "E9040088820210128000800123873170",
  "consentId": "urn:bancoex:C1DD33123",
  "creationDateTime": "2020-07-21T08:30:00Z",
  "statusUpdateDateTime": "2020-07-21T08:30:00Z",
  "pixKey": "12345678901",
  "status": "PDNG",
  "rejectionReason": "DS27",
  "payment": {
    "amount": 100000.12,
    "currency": "BRL"
  },
  "remittanceInformation": "Pagamento da nota RSTO035-002.",
  "creditorAccount": {
    "ispb": "12345678",
    "branchCode": "1774",
    "number": "1234567890",
    "checkDigit": "4",
    "accountType": "CACC"
  }
}

```

Objeto contendo dados do pagamento e da conta do recebedor (creditor).

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|paymentId|string|true|Código ou identificador único informado pela instituição detentora da conta para representar  <br>a iniciação de pagamento individual. O `paymentId` deve ser diferente do `endToEndId` retornado pela detentora.  <br>Este é o identificador que deverá ser utilizado na consulta ao status da iniciação de pagamento efetuada.|
|endToEndId|string|false|Código de identificação único da transação no arranjo do Pix. É usado em toda a cadeia de mensagens de uma instrução de pagamento no SPI. É um código gerado pela instituição detentora da conta que está iniciando o pagamento.  <br>Deve ser preenchido no formato padrão ExxxxxxxxyyyyMMddHHmmkkkkkkkkkkk (32 caracteres), sendo:  <br>• “E” – fixo (1 caractere);  <br>• xxxxxxxx – identificação do agente que gerou o `endToEndId`, podendo ser: o ISPB do participante direto ou o ISPB do participante indireto (8 caracteres numéricos [0-9]);  <br>• yyyyMMddHHmm – data, hora e minuto (12 caracteres), seguindo o horário UTC, da submissão da ordem de pagamento, caso a liquidação seja prioritária, ou prevista para o envio da ordem ao sistema de liquidação, caso seja realizado um agendamento. No caso de ordens prioritárias, aceita-se o preenchimento, pelo agente que gerou o <EndToEndId>, com uma tolerância máxima de 1 hora e 30 minutos, para o futuro e para o passado, em relação ao horário efetivo de processamento da ordem pelo SPI. Para ordens não prioritárias, a tolerância máxima é de 12 horas, para o futuro e para o passado;  <br>• kkkkkkkkkkk – sequencial criado pelo agente que gerou o `endToEndId` (11 caracteres alfanuméricos [a-z|A-Z|0-9]). Deve ser único dentro de cada “yyyyMMddHHmm”.  <br>Exemplo: E000000002020080120300000000001B  <br>O `endToEndId` é gerado pela detentora. Ele deve ser único, não podendo ser repetido em qualquer outra operação enviada ao SPI.  <br>[Restrição] É obrigatório o retorno após o status "ACCEPTED_SETTLEMENT_IN_PROCESS".|
|consentId|string|true|Identificador único do consentimento.|
|creationDateTime|string(date-time)|true|Data e hora em que o recurso foi criado.  <br>Uma string com data e hora conforme especificação RFC-3339,  <br>sempre com a utilização de timezone UTC(UTC time format).|
|statusUpdateDateTime|string(date-time)|true|Data e hora da última atualização da iniciação de pagamento.  <br>Uma string com data e hora conforme especificação RFC-3339,  <br>sempre com a utilização de timezone UTC(UTC time format).|
|pixKey|string|false|Chave cadastrada no DICT pertencente ao recebedor. Os tipos de chaves podem ser: telefone, e-mail, cpf/cnpj ou chave aleatória.  <br>No caso de telefone celular deve ser informado no padrão E.1641.  <br>Para e-mail deve ter o formato xxxxxxxx@xxxxxxx.xxx(.xx) e no máximo 77 caracteres.  <br>No caso de CPF deverá ser informado com 11 números, sem pontos ou traços.  <br>Para o caso de CNPJ deverá ser informado com 14 números, sem pontos ou traços.  <br>No caso de chave aleatória deve ser informado o UUID gerado pelo DICT, conforme formato especificado na RFC41223.  <br>[Restrição] Preenchimento obrigatório para pagamentos via Chave.|
|status|[EnumPaymentStatusType](#schemaenumpaymentstatustype)|true|Estado atual da iniciação de pagamento. O estado evolui na seguinte ordem:  <br>1. PDNG (PENDING) - Iniciação de pagamento ou transação de pagamento está pendente. Checagens adicionais em realização.  <br>2. PART (PARTIALLY ACCEPTED) - Aguardando autorização múltipla alçada.  <br>3. ACSP (ACCEPTED_SETTLEMENT_IN_PROCESS) - Iniciação de pagamento aceita e processamento do pagamento foi iniciado.  <br>4. ACSC (ACCEPTED_SETTLEMENT_COMPLETED_DEBITOR_ACCOUNT) - Débito realizado na conta do pagador.  <br>5. ACCC (ACCEPTED_SETTLEMENT_COMPLETED) - Crédito realizado na instituição de destino.  <br>Em caso insucesso:  <br>RJCT (REJECTED) - Instrução de pagamento rejeitada.|
|rejectionReason|[EnumRejectionReasonType](#schemaenumrejectionreasontype)|false|Motivo da rejeição do pagamento. Informações complementares sobre o motivo do status.  <br>AB03 (ABORTED_SETTLEMENT_TIMEOUT) - Liquidação da transação interrompida devido a timeout no SPI.                       <br>AB09 (ERROR_CREDITOR_AGENT) - Transação interrompida devido a erro no participante do usuário recebedor.  <br>AB11 (TIMEOUT_DEBTOR_AGENT) - Timeout do participante emissor da ordem de pagamento.  <br>AC03 (INVALID_CREDITOR_ACCOUNT_NUMBER) - Número da conta transacional do usuário recebedor inexistente ou inválido.  <br>AC06 (BLOCKED_ACCOUNT) - Conta transacional do usuário recebedor encontra-se bloqueada.  <br>AC07 (CLOSED_CREDITOR_ACCOUNT_NUMBER) - Número da conta transacional do usuário recebedor encerrada.  <br>AC14 (INVALID_CREDITOR_ACCOUNTTYPE) - Tipo incorreto para a conta transacional do usuário recebedor.    AG03 (TRANSACTION_NOT_SUPPORTED) - Tipo de transação não é suportado/autorizado na conta transacional do usuário recebedor. Exemplo: transferência para conta salário.  <br>AG12 (NOT_ALLOWED_BOOK_TRANSFER) - Não é permitida ordem de pagamento/devolução no SPI cujos recursos sejam transferidos de uma conta transacional para outra em uma mesma instituição participante ou entre participantes que utilizem o serviço de liquidação de um mesmo participante liquidante no SPI (booktransfer).  <br>AG13 (FORBIDDEN_RETURN_PAYMENT) - Não é permitido devolver a devolução de um pagamento instantâneo.  <br>AGNT (INCORRECT_AGENT) - Participante direto não é liquidante do participante do usuário pagador / participante do usuário recebedor.  <br>AM01 (ZERO_AMOUNT) - Ordem de pagamento instantâneo com valor zero.  <br>AM02 (NOT_ALLOWED_AMOUNT) - Ordem de pagamento/devolução em valor que faz superar o limite permitido para o tipo de conta transacional creditada.  <br>AM04 (INSUFFICIENT_FUNDS) - Saldo insuficiente na conta PI do participante do usuário pagador.  <br>AM09 (WRONG_AMOUNT) - Devolução de pagamento em valor que faz superar o valor da ordem de pagamento instantâneo correspondente.  <br>AM12 (INVALID_AMOUNT) - Divergência entre a somatória dos valores do bloco ‘valorDoDinheiroOuCompra’ e o campo ‘valor’.  <br>AM18 (INVALID_NUMBER_OF_TRANSACTIONS) - Quantidade de transações inválida.  <br>BE01 (INCONSISTENT_WITH_END_CUSTOMER) - CPF/CNPJ do usuário recebedor não é consistente com o titular da conta transacional especificada.  <br>BE15 (INVALID_IDENTIFICATION_CODE) - Código de situação de pagamento ou de erro inválido.  <br>BE17 (INVALID_CREDITOR_IDENTIFICATION_CODE) - QR Code rejeitado pelo participante do usuário recebedor.  <br>CH11 (CREDITOR_IDENTIFIER_INCORRECT) - CPF/CNPJ do usuário recebedor incorreto.  <br>CH16 (ELEMENT_CONTENT_FORMALLY_INCORRECT) - Elemento da mensagem incorreto.  <br>DS04 (ORDER_REJECTED) - Ordem rejeitada pelo participante do usuário recebedor.  <br>DS0G (NOT_ALLOWED_PAYMENT) - Participante que assinou a mensagem não é autorizado a realizar a operação na conta PI debitada. No caso em que o participante que assinou a mensagem não é o titular da conta PI debitada nem é o liquidante no SPI do participante do usuário pagador.  <br>DS0H (NOT_ALLOWED_ACCOUNT) - ISPB do participante que submeteu a resposta à ordem de pagamento/devolução diferente do ISPB do participante creditado pela ordem.  <br>DS27 (USER_NOT_YET_ACTIVATED) - Participante não se encontra cadastrado ou ainda não iniciou a operação no SPI.  <br>DT02 (INVALID_CREATION_DATE) - Data e Hora do envio da mensagem inválida.  <br>DT05 (INVALID_CUT_OFF_DATE) - Transação extrapola o prazo máximo para devolução de pagamento instantâneo regulamentado pelo Arranjo Pix.  <br>ED05 (SETTLEMENT_FAILED) - Erro no processamento do pagamento instantâneo.  <br>FF07 (INVALID_PURPOSE) - Inconsistência entre a finalidade da transação e o preenchimento do bloco elementos Structured.  <br>FF08 (INVALID_END_TO_END_ID) - Identificador da operação mal formatado.  <br>RC09 (INVALID_DEBTOR_CLEARING_SYSTEM_MEMBER_IDENTIFIER) - ISPB do participante do usuário pagador inválido ou inexistente.  <br>RC10 (INVALID_CREDITOR_CLEARING_SYSTEM_MEMBER_IDENTIFIER) - ISPB do participante do usuário recebedor inválido ou inexistente.  <br>RR4  (REGULATORY_REASON) - Ordem de pagamento em que o usuário pagador é sancionado por resolução do Conselho de Segurança das Nações Unidas (CSNU). Nos casos em que o usuário recebedor for o sancionado, a ordem de pagamento não deve ser rejeitada.  <br>SL02 (SPECIFIC_SERVICE_OFFERED_BY_CREDITOR_AGENT) - A transação original não está relacionada ao serviço de Saque Pix.  <br>[Restrição] Esse motivo deverá ser enviado quando o campo /data/status for igual a RJCT (REJECTED).|
|payment|[PaymentPix](#schemapaymentpix)|true|Objeto contendo dados do pagameto como moeda e valor.|
|remittanceInformation|string|false|Deve ser preenchido sempre que o usuário pagador inserir alguma informação adicional em um pagamento, a ser enviada ao recebedor.|
|creditorAccount|[CreditorAccount](#schemacreditoraccount)|false|Objeto que contém a identificação da conta de destino do beneficiário/recebedor.|

<h2 id="tocS_Links">Links</h2>

<a id="schemalinks"></a>
<a id="schema_Links"></a>
<a id="tocSlinks"></a>
<a id="tocslinks"></a>

```json
{
  "self": "https://api.banco.com.br/open-banking/api/v1/resource",
  "first": "https://api.banco.com.br/open-banking/api/v1/resource",
  "prev": "https://api.banco.com.br/open-banking/api/v1/resource",
  "next": "https://api.banco.com.br/open-banking/api/v1/resource",
  "last": "https://api.banco.com.br/open-banking/api/v1/resource"
}

```

Referências para outros recusos da API requisitada.

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|self|string(uri)|true|URI completo que gerou a resposta atual.|
|first|string(uri)|false|URI da primeira página que originou essa lista de resultados. Restrição - Obrigatório quando não for a primeira página da resposta|
|prev|string(uri)|false|URI da página anterior dessa lista de resultados. Restrição - 	Obrigatório quando não for a primeira página da resposta|
|next|string(uri)|false|URI da próxima página dessa lista de resultados. Restrição - Obrigatório quando não for a última página da resposta|
|last|string(uri)|false|URI da última página dessa lista de resultados. Restrição - Obrigatório quando não for a última página da resposta|

<h2 id="tocS_Meta">Meta</h2>

<a id="schemameta"></a>
<a id="schema_Meta"></a>
<a id="tocSmeta"></a>
<a id="tocsmeta"></a>

```json
{
  "totalRecords": 1,
  "totalPages": 1,
  "requestDateTime": "2021-05-21T08:30:00Z"
}

```

Meta informações referente a API requisitada.

### Propriedades

|Nome|Tipo|Obrigatório|Descrição|
|---|---|---|---|---|
|totalRecords|integer(int32)|true|Número total de registros no resultado|
|totalPages|integer(int32)|true|Número total de páginas no resultado|
|requestDateTime|string(date-time)|true|Data e hora da consulta, conforme especificação RFC-3339, formato UTC.|

